{"level":"info","message":"üöÄ Password Breach Notification System running on port 3000","service":"password-breach-notification","timestamp":"2025-07-04T14:36:25.517Z"}
{"level":"info","message":"üì± Environment: development","service":"password-breach-notification","timestamp":"2025-07-04T14:36:25.519Z"}
{"level":"info","message":"üåê Health check: http://localhost:3000/health","service":"password-breach-notification","timestamp":"2025-07-04T14:36:25.520Z"}
{"level":"info","message":"üìö API docs: http://localhost:3000/api","service":"password-breach-notification","timestamp":"2025-07-04T14:36:25.520Z"}
{"level":"info","message":"MongoDB Connected: localhost","service":"password-breach-notification","timestamp":"2025-07-04T14:36:25.569Z"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"password-breach-notification","timestamp":"2025-07-04T14:36:38.130Z"}
{"level":"info","message":"üöÄ Password Breach Notification System running on port 3000","service":"password-breach-notification","timestamp":"2025-07-04T14:38:04.917Z"}
{"level":"info","message":"üì± Environment: development","service":"password-breach-notification","timestamp":"2025-07-04T14:38:04.919Z"}
{"level":"info","message":"üåê Health check: http://localhost:3000/health","service":"password-breach-notification","timestamp":"2025-07-04T14:38:04.919Z"}
{"level":"info","message":"üìö API docs: http://localhost:3000/api","service":"password-breach-notification","timestamp":"2025-07-04T14:38:04.920Z"}
{"level":"info","message":"MongoDB Connected: localhost","service":"password-breach-notification","timestamp":"2025-07-04T14:38:04.937Z"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"password-breach-notification","timestamp":"2025-07-04T14:38:15.516Z"}
{"level":"info","message":"üöÄ Password Breach Notification System running on port 3000","service":"password-breach-notification","timestamp":"2025-07-04T15:14:42.648Z"}
{"level":"info","message":"üì± Environment: development","service":"password-breach-notification","timestamp":"2025-07-04T15:14:42.651Z"}
{"level":"info","message":"üåê Health check: http://localhost:3000/health","service":"password-breach-notification","timestamp":"2025-07-04T15:14:42.651Z"}
{"level":"info","message":"üìö API docs: http://localhost:3000/api","service":"password-breach-notification","timestamp":"2025-07-04T15:14:42.652Z"}
{"level":"info","message":"MongoDB Connected: localhost","service":"password-breach-notification","timestamp":"2025-07-04T15:14:42.672Z"}
{"level":"info","message":"SIGINT received. Shutting down gracefully...","service":"password-breach-notification","timestamp":"2025-07-04T15:14:58.786Z"}
{"level":"info","message":"üöÄ Password Breach Notification System running on port 3000","service":"password-breach-notification","timestamp":"2025-07-04T15:17:40.003Z"}
{"level":"info","message":"üì± Environment: development","service":"password-breach-notification","timestamp":"2025-07-04T15:17:40.007Z"}
{"level":"info","message":"üåê Health check: http://localhost:3000/health","service":"password-breach-notification","timestamp":"2025-07-04T15:17:40.007Z"}
{"level":"info","message":"üìö API docs: http://localhost:3000/api","service":"password-breach-notification","timestamp":"2025-07-04T15:17:40.008Z"}
{"level":"info","message":"MongoDB Connected: localhost","service":"password-breach-notification","timestamp":"2025-07-04T15:17:40.036Z"}
{"level":"info","message":"===== TESTING HEALTH ENDPOINT =====","service":"password-breach-notification","timestamp":"2025-07-04T15:23:06.581Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/health","service":"password-breach-notification","timestamp":"2025-07-04T15:23:06.584Z"}
{"error":"Error: Can't find /api/health on this server!\n    at handleUnknownRoutes (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\middlewares\\errorHandler.js:110:15)\n    at Layer.handle [as handle_request] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at Route.dispatch (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)","ip":"::1","level":"error","message":"Error 404: Can't find /api/health on this server!","method":"GET","service":"password-breach-notification","timestamp":"2025-07-04T15:23:06.625Z","url":"/api/health","userAgent":"axios/1.7.9"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:23:06 +0000] \"GET /api/health HTTP/1.1\" 404 2186 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:23:06.626Z"}
{"level":"info","message":"[GET /health] Status: 404 (Not Found)","service":"password-breach-notification","timestamp":"2025-07-04T15:23:06.629Z"}
{"level":"info","message":"[GET /health] Response: {\n  \"status\": \"fail\",\n  \"error\": {\n    \"statusCode\": 404,\n    \"status\": \"fail\",\n    \"isOperational\": true\n  },\n  \"message\": \"Can't find /api/health on this server!\",\n  \"stack\": \"Error: Can't find /api/health on this server!\\n    at handleUnknownRoutes (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\middlewares\\\\errorHandler.js:110:15)\\n    at Layer.handle [as handle_request] (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\layer.js:95:5)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:149:13)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at Route.dispatch (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:119:3)\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:23:06.630Z"}
{"level":"info","message":"===== TESTING API DOCUMENTATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:23:06.630Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api","service":"password-breach-notification","timestamp":"2025-07-04T15:23:06.631Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:23:06 +0000] \"GET /api HTTP/1.1\" 200 1708 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:23:06.635Z"}
{"level":"info","message":"[GET ] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:23:06.635Z"}
{"level":"info","message":"[GET ] Response: {\n  \"message\": \"Password Breach Notification System API\",\n  \"version\": \"1.0.0\",\n  \"endpoints\": {\n    \"auth\": {\n      \"POST /api/auth/register\": \"Register a new user\",\n      \"POST /api/auth/login\": \"Login user\",\n      \"GET /api/auth/verify-email\": \"Verify email address\",\n      \"POST /api/auth/forgot-password\": \"Request password reset\",\n      \"POST /api/auth/reset-password\": \"Reset password\",\n      \"GET /api/auth/me\": \"Get current user (protected)\",\n      \"PUT /api/auth/profile\": \"Update user profile (protected)\",\n      \"POST /api/auth/change-password\": \"Change password (protected)\",\n      \"POST /api/auth/logout\": \"Logout user (protected)\"\n    },\n    \"breach\": {\n      \"POST /api/breach/check\": \"Check password breach (protected)\",\n      \"GET /api/breach/history\": \"Get breach history (protected)\",\n      \"GET /api/breach/search\": \"Search breaches (protected)\",\n      \"GET /api/breach/:breachId\": \"Get breach details (protected)\",\n      \"PUT /api/breach/:breachId/acknowledge\": \"Acknowledge breach (protected)\",\n      \"PUT /api/breach/:breachId/action-completed\": \"Mark action completed (protected)\",\n      \"GET /api/breach/admin/stats\": \"Get global breach stats (admin)\",\n      \"GET /api/breach/admin/recent\": \"Get recent breaches (admin)\"\n    },\n    \"notifications\": {\n      \"GET /api/notifications/preferences\": \"Get notification preferences (protected)\",\n      \"PUT /api/notifications/preferences\": \"Update notification preferences (protected)\",\n      \"GET /api/notifications\": \"Get notifications (protected)\",\n      \"GET /api/notifications/stats\": \"Get notification statistics (protected)\",\n      \"GET /api/notifications/history\": \"Get notification history (protected)\",\n      \"PUT /api/notifications/mark-all-read\": \"Mark all notifications as read (protected)\",\n      \"PUT /api/notifications/:notificationId/read\": \"Mark notification as read (protected)\",\n      \"POST /api/notifications/test\": \"Test notification sending (protected)\"\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:23:06.636Z"}
{"level":"info","message":"===== TESTING USER REGISTRATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:23:06.637Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/register","service":"password-breach-notification","timestamp":"2025-07-04T15:23:06.637Z"}
{"level":"info","message":"Welcome email sent to testuser_1751642586580@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T15:23:10.271Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:23:10 +0000] \"POST /api/auth/register HTTP/1.1\" 201 455 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:23:10.288Z"}
{"level":"info","message":"[POST /auth/register] Status: 201 (Created)","service":"password-breach-notification","timestamp":"2025-07-04T15:23:10.289Z"}
{"level":"info","message":"[POST /auth/register] Response: {\n  \"status\": \"success\",\n  \"message\": \"User registered successfully. Please check your email for verification.\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"6867f1da79e2c389a629378a\",\n      \"username\": \"testuser_1751642586579\",\n      \"email\": \"testuser_1751642586580@example.com\",\n      \"isVerified\": false,\n      \"role\": \"user\"\n    },\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODY3ZjFkYTc5ZTJjMzg5YTYyOTM3OGEiLCJpYXQiOjE3NTE2NDI1OTAsImV4cCI6MTc1MjI0NzM5MH0.LD_4P2tPbYDq0a97H4iD0ICxwz0ak2CboT3pZupSWvo\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:23:10.289Z"}
{"level":"info","message":"===== TESTING USER LOGIN =====","service":"password-breach-notification","timestamp":"2025-07-04T15:23:10.290Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/login","service":"password-breach-notification","timestamp":"2025-07-04T15:23:10.290Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:23:10 +0000] \"POST /api/auth/login HTTP/1.1\" 200 441 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:23:10.382Z"}
{"level":"info","message":"[POST /auth/login] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:23:10.382Z"}
{"level":"info","message":"[POST /auth/login] Response: {\n  \"status\": \"success\",\n  \"message\": \"Login successful\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"6867f1da79e2c389a629378a\",\n      \"username\": \"testuser_1751642586579\",\n      \"email\": \"testuser_1751642586580@example.com\",\n      \"isVerified\": false,\n      \"role\": \"user\",\n      \"lastLoginAt\": \"2025-07-04T15:23:10.377Z\"\n    },\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODY3ZjFkYTc5ZTJjMzg5YTYyOTM3OGEiLCJpYXQiOjE3NTE2NDI1OTAsImV4cCI6MTc1MjI0NzM5MH0.LD_4P2tPbYDq0a97H4iD0ICxwz0ak2CboT3pZupSWvo\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:23:10.383Z"}
{"level":"error","message":"Login failed. Cannot test authenticated endpoints.","service":"password-breach-notification","timestamp":"2025-07-04T15:23:10.383Z"}
{"level":"info","message":"===== API TESTING COMPLETE =====","service":"password-breach-notification","timestamp":"2025-07-04T15:23:10.383Z"}
{"error":"SyntaxError: Expected property name or '}' in JSON at position 1 (line 1 column 2)\n    at JSON.parse (<anonymous>)\n    at parse (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\body-parser\\lib\\types\\json.js:92:19)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\body-parser\\lib\\read.js:128:18\n    at AsyncResource.runInAsyncScope (node:async_hooks:214:14)\n    at invokeCallback (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\raw-body\\index.js:238:16)\n    at done (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\raw-body\\index.js:227:7)\n    at IncomingMessage.onEnd (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\raw-body\\index.js:287:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","ip":"::1","level":"error","message":"Error 400: Expected property name or '}' in JSON at position 1 (line 1 column 2)","method":"POST","service":"password-breach-notification","timestamp":"2025-07-04T15:24:37.977Z","url":"/api/auth/login","userAgent":"curl/8.13.0"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:24:50 +0000] \"POST /api/auth/login HTTP/1.1\" 200 441 \"-\" \"Mozilla/5.0 (Windows NT 10.0; Microsoft Windows 10.0.26100; en-IN) PowerShell/7.5.1\"","service":"password-breach-notification","timestamp":"2025-07-04T15:24:50.437Z"}
{"level":"info","message":"===== TESTING HEALTH ENDPOINT =====","service":"password-breach-notification","timestamp":"2025-07-04T15:25:51.780Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/health","service":"password-breach-notification","timestamp":"2025-07-04T15:25:51.784Z"}
{"error":"Error: Can't find /api/health on this server!\n    at handleUnknownRoutes (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\middlewares\\errorHandler.js:110:15)\n    at Layer.handle [as handle_request] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at Route.dispatch (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)","ip":"::1","level":"error","message":"Error 404: Can't find /api/health on this server!","method":"GET","service":"password-breach-notification","timestamp":"2025-07-04T15:25:51.811Z","url":"/api/health","userAgent":"axios/1.7.9"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:25:51 +0000] \"GET /api/health HTTP/1.1\" 404 2186 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:25:51.812Z"}
{"level":"info","message":"[GET /health] Status: 404 (Not Found)","service":"password-breach-notification","timestamp":"2025-07-04T15:25:51.815Z"}
{"level":"info","message":"[GET /health] Response: {\n  \"status\": \"fail\",\n  \"error\": {\n    \"statusCode\": 404,\n    \"status\": \"fail\",\n    \"isOperational\": true\n  },\n  \"message\": \"Can't find /api/health on this server!\",\n  \"stack\": \"Error: Can't find /api/health on this server!\\n    at handleUnknownRoutes (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\middlewares\\\\errorHandler.js:110:15)\\n    at Layer.handle [as handle_request] (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\layer.js:95:5)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:149:13)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at Route.dispatch (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:119:3)\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:25:51.815Z"}
{"level":"info","message":"===== TESTING API DOCUMENTATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:25:51.816Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api","service":"password-breach-notification","timestamp":"2025-07-04T15:25:51.817Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:25:51 +0000] \"GET /api HTTP/1.1\" 200 1708 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:25:51.820Z"}
{"level":"info","message":"[GET ] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:25:51.821Z"}
{"level":"info","message":"[GET ] Response: {\n  \"message\": \"Password Breach Notification System API\",\n  \"version\": \"1.0.0\",\n  \"endpoints\": {\n    \"auth\": {\n      \"POST /api/auth/register\": \"Register a new user\",\n      \"POST /api/auth/login\": \"Login user\",\n      \"GET /api/auth/verify-email\": \"Verify email address\",\n      \"POST /api/auth/forgot-password\": \"Request password reset\",\n      \"POST /api/auth/reset-password\": \"Reset password\",\n      \"GET /api/auth/me\": \"Get current user (protected)\",\n      \"PUT /api/auth/profile\": \"Update user profile (protected)\",\n      \"POST /api/auth/change-password\": \"Change password (protected)\",\n      \"POST /api/auth/logout\": \"Logout user (protected)\"\n    },\n    \"breach\": {\n      \"POST /api/breach/check\": \"Check password breach (protected)\",\n      \"GET /api/breach/history\": \"Get breach history (protected)\",\n      \"GET /api/breach/search\": \"Search breaches (protected)\",\n      \"GET /api/breach/:breachId\": \"Get breach details (protected)\",\n      \"PUT /api/breach/:breachId/acknowledge\": \"Acknowledge breach (protected)\",\n      \"PUT /api/breach/:breachId/action-completed\": \"Mark action completed (protected)\",\n      \"GET /api/breach/admin/stats\": \"Get global breach stats (admin)\",\n      \"GET /api/breach/admin/recent\": \"Get recent breaches (admin)\"\n    },\n    \"notifications\": {\n      \"GET /api/notifications/preferences\": \"Get notification preferences (protected)\",\n      \"PUT /api/notifications/preferences\": \"Update notification preferences (protected)\",\n      \"GET /api/notifications\": \"Get notifications (protected)\",\n      \"GET /api/notifications/stats\": \"Get notification statistics (protected)\",\n      \"GET /api/notifications/history\": \"Get notification history (protected)\",\n      \"PUT /api/notifications/mark-all-read\": \"Mark all notifications as read (protected)\",\n      \"PUT /api/notifications/:notificationId/read\": \"Mark notification as read (protected)\",\n      \"POST /api/notifications/test\": \"Test notification sending (protected)\"\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:25:51.821Z"}
{"level":"info","message":"===== TESTING USER REGISTRATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:25:51.822Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/register","service":"password-breach-notification","timestamp":"2025-07-04T15:25:51.822Z"}
{"level":"info","message":"Welcome email sent to testuser_1751642751779@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.403Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:25:55 +0000] \"POST /api/auth/register HTTP/1.1\" 201 455 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.408Z"}
{"level":"info","message":"[POST /auth/register] Status: 201 (Created)","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.409Z"}
{"level":"info","message":"[POST /auth/register] Response: {\n  \"status\": \"success\",\n  \"message\": \"User registered successfully. Please check your email for verification.\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"6867f27f79e2c389a6293793\",\n      \"username\": \"testuser_1751642751779\",\n      \"email\": \"testuser_1751642751779@example.com\",\n      \"isVerified\": false,\n      \"role\": \"user\"\n    },\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODY3ZjI3Zjc5ZTJjMzg5YTYyOTM3OTMiLCJpYXQiOjE3NTE2NDI3NTUsImV4cCI6MTc1MjI0NzU1NX0.H_bbS5CqNDg3DpEfl5lAjvaWJUx1ervhxabpqRTHPP8\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.409Z"}
{"level":"info","message":"===== TESTING USER LOGIN =====","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.410Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/login","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.411Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:25:55 +0000] \"POST /api/auth/login HTTP/1.1\" 200 441 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.486Z"}
{"level":"info","message":"[POST /auth/login] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.487Z"}
{"level":"info","message":"[POST /auth/login] Response: {\n  \"status\": \"success\",\n  \"message\": \"Login successful\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"6867f27f79e2c389a6293793\",\n      \"username\": \"testuser_1751642751779\",\n      \"email\": \"testuser_1751642751779@example.com\",\n      \"isVerified\": false,\n      \"role\": \"user\",\n      \"lastLoginAt\": \"2025-07-04T15:25:55.483Z\"\n    },\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODY3ZjI3Zjc5ZTJjMzg5YTYyOTM3OTMiLCJpYXQiOjE3NTE2NDI3NTUsImV4cCI6MTc1MjI0NzU1NX0.H_bbS5CqNDg3DpEfl5lAjvaWJUx1ervhxabpqRTHPP8\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.487Z"}
{"level":"info","message":"Login successful! Token acquired. User ID: 6867f27f79e2c389a6293793","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.488Z"}
{"level":"info","message":"===== TESTING GET CURRENT USER =====","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.488Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/auth/me","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.488Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:25:55 +0000] \"GET /api/auth/me HTTP/1.1\" 200 524 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.506Z"}
{"level":"info","message":"[GET /auth/me] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.506Z"}
{"level":"info","message":"[GET /auth/me] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"user\": {\n      \"notificationPreferences\": {\n        \"email\": true,\n        \"sms\": false,\n        \"push\": true\n      },\n      \"loginAttempts\": 0,\n      \"_id\": \"6867f27f79e2c389a6293793\",\n      \"username\": \"testuser_1751642751779\",\n      \"email\": \"testuser_1751642751779@example.com\",\n      \"phone\": \"+15551234567\",\n      \"isVerified\": false,\n      \"verificationToken\": \"c9cac647a5591bd5533ec1539e7bffc06eac2a427d81d7c903bd7ace370a1e73\",\n      \"mfaEnabled\": false,\n      \"role\": \"user\",\n      \"createdAt\": \"2025-07-04T15:25:51.831Z\",\n      \"updatedAt\": \"2025-07-04T15:25:55.483Z\",\n      \"__v\": 0,\n      \"lastLoginAt\": \"2025-07-04T15:25:55.483Z\"\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.506Z"}
{"level":"info","message":"===== TESTING PASSWORD BREACH CHECK =====","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.507Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/breach/check","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.507Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:25:55 +0000] \"POST /api/breach/check HTTP/1.1\" 403 77 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.512Z"}
{"level":"info","message":"[POST /breach/check] Status: 403 (Forbidden)","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.513Z"}
{"level":"info","message":"[POST /breach/check] Response: {\n  \"error\": \"Account not verified\",\n  \"message\": \"Please verify your email address\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.513Z"}
{"level":"info","message":"===== TESTING BREACH HISTORY =====","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.513Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/breach/history","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.514Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:25:55 +0000] \"GET /api/breach/history HTTP/1.1\" 403 77 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.519Z"}
{"level":"info","message":"[GET /breach/history] Status: 403 (Forbidden)","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.520Z"}
{"level":"info","message":"[GET /breach/history] Response: {\n  \"error\": \"Account not verified\",\n  \"message\": \"Please verify your email address\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.520Z"}
{"level":"info","message":"===== TESTING NOTIFICATION PREFERENCES =====","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.520Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/preferences","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.521Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:25:55 +0000] \"GET /api/notifications/preferences HTTP/1.1\" 200 82 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.529Z"}
{"level":"info","message":"[GET /notifications/preferences] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.529Z"}
{"level":"info","message":"[GET /notifications/preferences] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"preferences\": {\n      \"email\": true,\n      \"sms\": false,\n      \"push\": true\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.529Z"}
{"level":"info","message":"===== TESTING NOTIFICATION SENDING =====","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.530Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/notifications/test","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.530Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:25:55 +0000] \"POST /api/notifications/test HTTP/1.1\" 400 81 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.539Z"}
{"level":"info","message":"[POST /notifications/test] Status: 400 (Bad Request)","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.540Z"}
{"level":"info","message":"[POST /notifications/test] Response: {\n  \"status\": \"fail\",\n  \"message\": \"Invalid notification type. Use \\\"email\\\" or \\\"sms\\\"\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.540Z"}
{"level":"info","message":"===== API TESTING COMPLETE =====","service":"password-breach-notification","timestamp":"2025-07-04T15:25:55.540Z"}
{"level":"info","message":"===== TESTING HEALTH ENDPOINT =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:06.214Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/health","service":"password-breach-notification","timestamp":"2025-07-04T15:29:06.217Z"}
{"error":"Error: Can't find /api/health on this server!\n    at handleUnknownRoutes (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\middlewares\\errorHandler.js:110:15)\n    at Layer.handle [as handle_request] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at Route.dispatch (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)","ip":"::1","level":"error","message":"Error 404: Can't find /api/health on this server!","method":"GET","service":"password-breach-notification","timestamp":"2025-07-04T15:29:06.242Z","url":"/api/health","userAgent":"axios/1.7.9"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:06 +0000] \"GET /api/health HTTP/1.1\" 404 2186 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:06.243Z"}
{"level":"info","message":"[GET /health] Status: 404 (Not Found)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:06.246Z"}
{"level":"info","message":"[GET /health] Response: {\n  \"status\": \"fail\",\n  \"error\": {\n    \"statusCode\": 404,\n    \"status\": \"fail\",\n    \"isOperational\": true\n  },\n  \"message\": \"Can't find /api/health on this server!\",\n  \"stack\": \"Error: Can't find /api/health on this server!\\n    at handleUnknownRoutes (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\middlewares\\\\errorHandler.js:110:15)\\n    at Layer.handle [as handle_request] (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\layer.js:95:5)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:149:13)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at Route.dispatch (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:119:3)\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:06.247Z"}
{"level":"info","message":"===== TESTING API DOCUMENTATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:06.247Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api","service":"password-breach-notification","timestamp":"2025-07-04T15:29:06.248Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:06 +0000] \"GET /api HTTP/1.1\" 200 1708 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:06.250Z"}
{"level":"info","message":"[GET ] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:06.251Z"}
{"level":"info","message":"[GET ] Response: {\n  \"message\": \"Password Breach Notification System API\",\n  \"version\": \"1.0.0\",\n  \"endpoints\": {\n    \"auth\": {\n      \"POST /api/auth/register\": \"Register a new user\",\n      \"POST /api/auth/login\": \"Login user\",\n      \"GET /api/auth/verify-email\": \"Verify email address\",\n      \"POST /api/auth/forgot-password\": \"Request password reset\",\n      \"POST /api/auth/reset-password\": \"Reset password\",\n      \"GET /api/auth/me\": \"Get current user (protected)\",\n      \"PUT /api/auth/profile\": \"Update user profile (protected)\",\n      \"POST /api/auth/change-password\": \"Change password (protected)\",\n      \"POST /api/auth/logout\": \"Logout user (protected)\"\n    },\n    \"breach\": {\n      \"POST /api/breach/check\": \"Check password breach (protected)\",\n      \"GET /api/breach/history\": \"Get breach history (protected)\",\n      \"GET /api/breach/search\": \"Search breaches (protected)\",\n      \"GET /api/breach/:breachId\": \"Get breach details (protected)\",\n      \"PUT /api/breach/:breachId/acknowledge\": \"Acknowledge breach (protected)\",\n      \"PUT /api/breach/:breachId/action-completed\": \"Mark action completed (protected)\",\n      \"GET /api/breach/admin/stats\": \"Get global breach stats (admin)\",\n      \"GET /api/breach/admin/recent\": \"Get recent breaches (admin)\"\n    },\n    \"notifications\": {\n      \"GET /api/notifications/preferences\": \"Get notification preferences (protected)\",\n      \"PUT /api/notifications/preferences\": \"Update notification preferences (protected)\",\n      \"GET /api/notifications\": \"Get notifications (protected)\",\n      \"GET /api/notifications/stats\": \"Get notification statistics (protected)\",\n      \"GET /api/notifications/history\": \"Get notification history (protected)\",\n      \"PUT /api/notifications/mark-all-read\": \"Mark all notifications as read (protected)\",\n      \"PUT /api/notifications/:notificationId/read\": \"Mark notification as read (protected)\",\n      \"POST /api/notifications/test\": \"Test notification sending (protected)\"\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:06.252Z"}
{"level":"info","message":"===== TESTING USER REGISTRATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:06.252Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/register","service":"password-breach-notification","timestamp":"2025-07-04T15:29:06.253Z"}
{"level":"info","message":"Welcome email sent to testuser_1751642946213@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.483Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:09 +0000] \"POST /api/auth/register HTTP/1.1\" 201 455 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.484Z"}
{"level":"info","message":"[POST /auth/register] Status: 201 (Created)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.485Z"}
{"level":"info","message":"[POST /auth/register] Response: {\n  \"status\": \"success\",\n  \"message\": \"User registered successfully. Please check your email for verification.\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"6867f34279e2c389a62937a1\",\n      \"username\": \"testuser_1751642946213\",\n      \"email\": \"testuser_1751642946213@example.com\",\n      \"isVerified\": false,\n      \"role\": \"user\"\n    },\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODY3ZjM0Mjc5ZTJjMzg5YTYyOTM3YTEiLCJpYXQiOjE3NTE2NDI5NDksImV4cCI6MTc1MjI0Nzc0OX0._6Xixospj0cVVVBCsKyC16TlYXQk4pztf7vQr9EUDU4\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.486Z"}
{"level":"info","message":"Registered user with ID: 6867f34279e2c389a62937a1","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.486Z"}
{"level":"info","message":"===== TESTING USER LOGIN =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.486Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/login","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.486Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:09 +0000] \"POST /api/auth/login HTTP/1.1\" 200 441 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.565Z"}
{"level":"info","message":"[POST /auth/login] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.566Z"}
{"level":"info","message":"[POST /auth/login] Response: {\n  \"status\": \"success\",\n  \"message\": \"Login successful\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"6867f34279e2c389a62937a1\",\n      \"username\": \"testuser_1751642946213\",\n      \"email\": \"testuser_1751642946213@example.com\",\n      \"isVerified\": false,\n      \"role\": \"user\",\n      \"lastLoginAt\": \"2025-07-04T15:29:09.563Z\"\n    },\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODY3ZjM0Mjc5ZTJjMzg5YTYyOTM3YTEiLCJpYXQiOjE3NTE2NDI5NDksImV4cCI6MTc1MjI0Nzc0OX0._6Xixospj0cVVVBCsKyC16TlYXQk4pztf7vQr9EUDU4\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.567Z"}
{"level":"info","message":"Login successful! Token acquired. User ID: 6867f34279e2c389a62937a1","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.567Z"}
{"level":"info","message":"===== TESTING GET CURRENT USER =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.567Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/auth/me","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.567Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:09 +0000] \"GET /api/auth/me HTTP/1.1\" 200 524 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.572Z"}
{"level":"info","message":"[GET /auth/me] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.574Z"}
{"level":"info","message":"[GET /auth/me] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"user\": {\n      \"notificationPreferences\": {\n        \"email\": true,\n        \"sms\": false,\n        \"push\": true\n      },\n      \"loginAttempts\": 0,\n      \"_id\": \"6867f34279e2c389a62937a1\",\n      \"username\": \"testuser_1751642946213\",\n      \"email\": \"testuser_1751642946213@example.com\",\n      \"phone\": \"+15551234567\",\n      \"isVerified\": false,\n      \"verificationToken\": \"6e01606f647d5b99ab0e8cc0350dc6df8237f962e9c0650044ab9bf7b3e166dc\",\n      \"mfaEnabled\": false,\n      \"role\": \"user\",\n      \"createdAt\": \"2025-07-04T15:29:06.259Z\",\n      \"updatedAt\": \"2025-07-04T15:29:09.563Z\",\n      \"__v\": 0,\n      \"lastLoginAt\": \"2025-07-04T15:29:09.563Z\"\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.574Z"}
{"level":"info","message":"===== TESTING PASSWORD BREACH CHECK =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.575Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/breach/check","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.575Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:09 +0000] \"POST /api/breach/check HTTP/1.1\" 403 77 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.580Z"}
{"level":"info","message":"[POST /breach/check] Status: 403 (Forbidden)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.581Z"}
{"level":"info","message":"[POST /breach/check] Response: {\n  \"error\": \"Account not verified\",\n  \"message\": \"Please verify your email address\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.581Z"}
{"level":"info","message":"===== TESTING BREACH HISTORY =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.582Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/breach/history","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.582Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:09 +0000] \"GET /api/breach/history HTTP/1.1\" 403 77 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.585Z"}
{"level":"info","message":"[GET /breach/history] Status: 403 (Forbidden)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.586Z"}
{"level":"info","message":"[GET /breach/history] Response: {\n  \"error\": \"Account not verified\",\n  \"message\": \"Please verify your email address\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.587Z"}
{"level":"info","message":"===== TESTING NOTIFICATION PREFERENCES =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.587Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/preferences","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.587Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:09 +0000] \"GET /api/notifications/preferences HTTP/1.1\" 200 82 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.595Z"}
{"level":"info","message":"[GET /notifications/preferences] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.596Z"}
{"level":"info","message":"[GET /notifications/preferences] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"preferences\": {\n      \"email\": true,\n      \"sms\": false,\n      \"push\": true\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.596Z"}
{"level":"info","message":"===== TESTING EMAIL NOTIFICATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.596Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/notifications/test","service":"password-breach-notification","timestamp":"2025-07-04T15:29:09.597Z"}
{"level":"info","message":"Breach notification sent to testuser_1751642946213@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.895Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:12 +0000] \"POST /api/notifications/test HTTP/1.1\" 200 95 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.896Z"}
{"level":"info","message":"[POST /notifications/test] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.898Z"}
{"level":"info","message":"[POST /notifications/test] Response: {\n  \"status\": \"success\",\n  \"message\": \"Test email notification sent successfully\",\n  \"data\": {\n    \"sent\": true\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.898Z"}
{"level":"info","message":"===== TESTING SMS NOTIFICATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.899Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/notifications/test","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.899Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:12 +0000] \"POST /api/notifications/test HTTP/1.1\" 200 91 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.904Z"}
{"level":"info","message":"[POST /notifications/test] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.905Z"}
{"level":"info","message":"[POST /notifications/test] Response: {\n  \"status\": \"success\",\n  \"message\": \"Test sms notification failed to send\",\n  \"data\": {\n    \"sent\": false\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.906Z"}
{"level":"info","message":"===== TESTING UPDATE NOTIFICATION PREFERENCES =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.906Z"}
{"level":"info","message":"Testing PUT http://localhost:3000/api/notifications/preferences","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.906Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:12 +0000] \"PUT /api/notifications/preferences HTTP/1.1\" 200 140 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.916Z"}
{"level":"info","message":"[PUT /notifications/preferences] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.917Z"}
{"level":"info","message":"[PUT /notifications/preferences] Response: {\n  \"status\": \"success\",\n  \"message\": \"Notification preferences updated successfully\",\n  \"data\": {\n    \"preferences\": {\n      \"email\": true,\n      \"sms\": true,\n      \"push\": false\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.917Z"}
{"level":"info","message":"===== TESTING NOTIFICATION HISTORY =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.917Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/history","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.918Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:12 +0000] \"GET /api/notifications/history HTTP/1.1\" 403 77 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.921Z"}
{"level":"info","message":"[GET /notifications/history] Status: 403 (Forbidden)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.922Z"}
{"level":"info","message":"[GET /notifications/history] Response: {\n  \"error\": \"Account not verified\",\n  \"message\": \"Please verify your email address\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.922Z"}
{"level":"info","message":"===== TESTING NOTIFICATION STATISTICS =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.922Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/stats","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.922Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:12 +0000] \"GET /api/notifications/stats HTTP/1.1\" 403 77 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.928Z"}
{"level":"info","message":"[GET /notifications/stats] Status: 403 (Forbidden)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.929Z"}
{"level":"info","message":"[GET /notifications/stats] Response: {\n  \"error\": \"Account not verified\",\n  \"message\": \"Please verify your email address\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.929Z"}
{"level":"info","message":"===== API TESTING COMPLETE =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:12.929Z"}
{"level":"info","message":"Connected to MongoDB","service":"password-breach-notification","timestamp":"2025-07-04T15:29:29.713Z"}
{"level":"info","message":"User testuser_1751642946213@example.com has been verified successfully","service":"password-breach-notification","timestamp":"2025-07-04T15:29:29.748Z"}
{"level":"info","message":"===== TESTING HEALTH ENDPOINT =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:38.058Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/health","service":"password-breach-notification","timestamp":"2025-07-04T15:29:38.061Z"}
{"error":"Error: Can't find /api/health on this server!\n    at handleUnknownRoutes (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\middlewares\\errorHandler.js:110:15)\n    at Layer.handle [as handle_request] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at Route.dispatch (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)","ip":"::1","level":"error","message":"Error 404: Can't find /api/health on this server!","method":"GET","service":"password-breach-notification","timestamp":"2025-07-04T15:29:38.091Z","url":"/api/health","userAgent":"axios/1.7.9"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:38 +0000] \"GET /api/health HTTP/1.1\" 404 2186 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:38.095Z"}
{"level":"info","message":"[GET /health] Status: 404 (Not Found)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:38.098Z"}
{"level":"info","message":"[GET /health] Response: {\n  \"status\": \"fail\",\n  \"error\": {\n    \"statusCode\": 404,\n    \"status\": \"fail\",\n    \"isOperational\": true\n  },\n  \"message\": \"Can't find /api/health on this server!\",\n  \"stack\": \"Error: Can't find /api/health on this server!\\n    at handleUnknownRoutes (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\middlewares\\\\errorHandler.js:110:15)\\n    at Layer.handle [as handle_request] (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\layer.js:95:5)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:149:13)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at Route.dispatch (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:119:3)\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:38.098Z"}
{"level":"info","message":"===== TESTING API DOCUMENTATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:38.099Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api","service":"password-breach-notification","timestamp":"2025-07-04T15:29:38.099Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:38 +0000] \"GET /api HTTP/1.1\" 200 1708 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:38.103Z"}
{"level":"info","message":"[GET ] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:38.104Z"}
{"level":"info","message":"[GET ] Response: {\n  \"message\": \"Password Breach Notification System API\",\n  \"version\": \"1.0.0\",\n  \"endpoints\": {\n    \"auth\": {\n      \"POST /api/auth/register\": \"Register a new user\",\n      \"POST /api/auth/login\": \"Login user\",\n      \"GET /api/auth/verify-email\": \"Verify email address\",\n      \"POST /api/auth/forgot-password\": \"Request password reset\",\n      \"POST /api/auth/reset-password\": \"Reset password\",\n      \"GET /api/auth/me\": \"Get current user (protected)\",\n      \"PUT /api/auth/profile\": \"Update user profile (protected)\",\n      \"POST /api/auth/change-password\": \"Change password (protected)\",\n      \"POST /api/auth/logout\": \"Logout user (protected)\"\n    },\n    \"breach\": {\n      \"POST /api/breach/check\": \"Check password breach (protected)\",\n      \"GET /api/breach/history\": \"Get breach history (protected)\",\n      \"GET /api/breach/search\": \"Search breaches (protected)\",\n      \"GET /api/breach/:breachId\": \"Get breach details (protected)\",\n      \"PUT /api/breach/:breachId/acknowledge\": \"Acknowledge breach (protected)\",\n      \"PUT /api/breach/:breachId/action-completed\": \"Mark action completed (protected)\",\n      \"GET /api/breach/admin/stats\": \"Get global breach stats (admin)\",\n      \"GET /api/breach/admin/recent\": \"Get recent breaches (admin)\"\n    },\n    \"notifications\": {\n      \"GET /api/notifications/preferences\": \"Get notification preferences (protected)\",\n      \"PUT /api/notifications/preferences\": \"Update notification preferences (protected)\",\n      \"GET /api/notifications\": \"Get notifications (protected)\",\n      \"GET /api/notifications/stats\": \"Get notification statistics (protected)\",\n      \"GET /api/notifications/history\": \"Get notification history (protected)\",\n      \"PUT /api/notifications/mark-all-read\": \"Mark all notifications as read (protected)\",\n      \"PUT /api/notifications/:notificationId/read\": \"Mark notification as read (protected)\",\n      \"POST /api/notifications/test\": \"Test notification sending (protected)\"\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:38.105Z"}
{"level":"info","message":"===== TESTING USER REGISTRATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:38.105Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/register","service":"password-breach-notification","timestamp":"2025-07-04T15:29:38.106Z"}
{"level":"info","message":"Welcome email sent to testuser_1751642978058@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.638Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:41 +0000] \"POST /api/auth/register HTTP/1.1\" 201 455 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.640Z"}
{"level":"info","message":"[POST /auth/register] Status: 201 (Created)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.640Z"}
{"level":"info","message":"[POST /auth/register] Response: {\n  \"status\": \"success\",\n  \"message\": \"User registered successfully. Please check your email for verification.\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"6867f36279e2c389a62937b6\",\n      \"username\": \"testuser_1751642978058\",\n      \"email\": \"testuser_1751642978058@example.com\",\n      \"isVerified\": false,\n      \"role\": \"user\"\n    },\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODY3ZjM2Mjc5ZTJjMzg5YTYyOTM3YjYiLCJpYXQiOjE3NTE2NDI5ODEsImV4cCI6MTc1MjI0Nzc4MX0.YPqcn2tMS8RSqa8KxxXRCnNHRp5aFGgIsv_IGxCfHmk\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.641Z"}
{"level":"info","message":"Registered user with ID: 6867f36279e2c389a62937b6","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.641Z"}
{"level":"info","message":"===== TESTING USER LOGIN =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.641Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/login","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.642Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:41 +0000] \"POST /api/auth/login HTTP/1.1\" 200 441 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.722Z"}
{"level":"info","message":"[POST /auth/login] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.723Z"}
{"level":"info","message":"[POST /auth/login] Response: {\n  \"status\": \"success\",\n  \"message\": \"Login successful\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"6867f36279e2c389a62937b6\",\n      \"username\": \"testuser_1751642978058\",\n      \"email\": \"testuser_1751642978058@example.com\",\n      \"isVerified\": false,\n      \"role\": \"user\",\n      \"lastLoginAt\": \"2025-07-04T15:29:41.718Z\"\n    },\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODY3ZjM2Mjc5ZTJjMzg5YTYyOTM3YjYiLCJpYXQiOjE3NTE2NDI5ODEsImV4cCI6MTc1MjI0Nzc4MX0.YPqcn2tMS8RSqa8KxxXRCnNHRp5aFGgIsv_IGxCfHmk\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.723Z"}
{"level":"info","message":"Login successful! Token acquired. User ID: 6867f36279e2c389a62937b6","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.723Z"}
{"level":"info","message":"===== TESTING GET CURRENT USER =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.723Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/auth/me","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.724Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:41 +0000] \"GET /api/auth/me HTTP/1.1\" 200 524 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.729Z"}
{"level":"info","message":"[GET /auth/me] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.729Z"}
{"level":"info","message":"[GET /auth/me] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"user\": {\n      \"notificationPreferences\": {\n        \"email\": true,\n        \"sms\": false,\n        \"push\": true\n      },\n      \"loginAttempts\": 0,\n      \"_id\": \"6867f36279e2c389a62937b6\",\n      \"username\": \"testuser_1751642978058\",\n      \"email\": \"testuser_1751642978058@example.com\",\n      \"phone\": \"+15551234567\",\n      \"isVerified\": false,\n      \"verificationToken\": \"8d404f07f14d3e729b3555350d7fcf9595b293c81a2ce0279ada51fc064ca60a\",\n      \"mfaEnabled\": false,\n      \"role\": \"user\",\n      \"createdAt\": \"2025-07-04T15:29:38.112Z\",\n      \"updatedAt\": \"2025-07-04T15:29:41.718Z\",\n      \"__v\": 0,\n      \"lastLoginAt\": \"2025-07-04T15:29:41.718Z\"\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.730Z"}
{"level":"info","message":"===== TESTING PASSWORD BREACH CHECK =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.730Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/breach/check","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.730Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:41 +0000] \"POST /api/breach/check HTTP/1.1\" 403 77 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.735Z"}
{"level":"info","message":"[POST /breach/check] Status: 403 (Forbidden)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.735Z"}
{"level":"info","message":"[POST /breach/check] Response: {\n  \"error\": \"Account not verified\",\n  \"message\": \"Please verify your email address\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.736Z"}
{"level":"info","message":"===== TESTING BREACH HISTORY =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.736Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/breach/history","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.736Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:41 +0000] \"GET /api/breach/history HTTP/1.1\" 403 77 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.741Z"}
{"level":"info","message":"[GET /breach/history] Status: 403 (Forbidden)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.742Z"}
{"level":"info","message":"[GET /breach/history] Response: {\n  \"error\": \"Account not verified\",\n  \"message\": \"Please verify your email address\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.742Z"}
{"level":"info","message":"===== TESTING NOTIFICATION PREFERENCES =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.743Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/preferences","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.743Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:41 +0000] \"GET /api/notifications/preferences HTTP/1.1\" 200 82 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.749Z"}
{"level":"info","message":"[GET /notifications/preferences] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.749Z"}
{"level":"info","message":"[GET /notifications/preferences] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"preferences\": {\n      \"email\": true,\n      \"sms\": false,\n      \"push\": true\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.750Z"}
{"level":"info","message":"===== TESTING EMAIL NOTIFICATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.750Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/notifications/test","service":"password-breach-notification","timestamp":"2025-07-04T15:29:41.750Z"}
{"level":"info","message":"Breach notification sent to testuser_1751642978058@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.672Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:45 +0000] \"POST /api/notifications/test HTTP/1.1\" 200 95 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.674Z"}
{"level":"info","message":"[POST /notifications/test] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.675Z"}
{"level":"info","message":"[POST /notifications/test] Response: {\n  \"status\": \"success\",\n  \"message\": \"Test email notification sent successfully\",\n  \"data\": {\n    \"sent\": true\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.675Z"}
{"level":"info","message":"===== TESTING SMS NOTIFICATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.676Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/notifications/test","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.676Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:45 +0000] \"POST /api/notifications/test HTTP/1.1\" 200 91 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.681Z"}
{"level":"info","message":"[POST /notifications/test] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.682Z"}
{"level":"info","message":"[POST /notifications/test] Response: {\n  \"status\": \"success\",\n  \"message\": \"Test sms notification failed to send\",\n  \"data\": {\n    \"sent\": false\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.682Z"}
{"level":"info","message":"===== TESTING UPDATE NOTIFICATION PREFERENCES =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.683Z"}
{"level":"info","message":"Testing PUT http://localhost:3000/api/notifications/preferences","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.683Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:45 +0000] \"PUT /api/notifications/preferences HTTP/1.1\" 200 140 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.693Z"}
{"level":"info","message":"[PUT /notifications/preferences] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.694Z"}
{"level":"info","message":"[PUT /notifications/preferences] Response: {\n  \"status\": \"success\",\n  \"message\": \"Notification preferences updated successfully\",\n  \"data\": {\n    \"preferences\": {\n      \"email\": true,\n      \"sms\": true,\n      \"push\": false\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.694Z"}
{"level":"info","message":"===== TESTING NOTIFICATION HISTORY =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.694Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/history","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.694Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:45 +0000] \"GET /api/notifications/history HTTP/1.1\" 403 77 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.699Z"}
{"level":"info","message":"[GET /notifications/history] Status: 403 (Forbidden)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.699Z"}
{"level":"info","message":"[GET /notifications/history] Response: {\n  \"error\": \"Account not verified\",\n  \"message\": \"Please verify your email address\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.700Z"}
{"level":"info","message":"===== TESTING NOTIFICATION STATISTICS =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.700Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/stats","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.700Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:29:45 +0000] \"GET /api/notifications/stats HTTP/1.1\" 403 77 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.706Z"}
{"level":"info","message":"[GET /notifications/stats] Status: 403 (Forbidden)","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.707Z"}
{"level":"info","message":"[GET /notifications/stats] Response: {\n  \"error\": \"Account not verified\",\n  \"message\": \"Please verify your email address\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.708Z"}
{"level":"info","message":"===== API TESTING COMPLETE =====","service":"password-breach-notification","timestamp":"2025-07-04T15:29:45.709Z"}
{"level":"info","message":"===== TESTING HEALTH ENDPOINT =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:33.980Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/health","service":"password-breach-notification","timestamp":"2025-07-04T15:30:33.983Z"}
{"error":"Error: Can't find /api/health on this server!\n    at handleUnknownRoutes (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\middlewares\\errorHandler.js:110:15)\n    at Layer.handle [as handle_request] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at Route.dispatch (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)","ip":"::1","level":"error","message":"Error 404: Can't find /api/health on this server!","method":"GET","service":"password-breach-notification","timestamp":"2025-07-04T15:30:34.006Z","url":"/api/health","userAgent":"axios/1.7.9"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:30:34 +0000] \"GET /api/health HTTP/1.1\" 404 2186 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:30:34.007Z"}
{"level":"info","message":"[GET /health] Status: 404 (Not Found)","service":"password-breach-notification","timestamp":"2025-07-04T15:30:34.012Z"}
{"level":"info","message":"[GET /health] Response: {\n  \"status\": \"fail\",\n  \"error\": {\n    \"statusCode\": 404,\n    \"status\": \"fail\",\n    \"isOperational\": true\n  },\n  \"message\": \"Can't find /api/health on this server!\",\n  \"stack\": \"Error: Can't find /api/health on this server!\\n    at handleUnknownRoutes (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\middlewares\\\\errorHandler.js:110:15)\\n    at Layer.handle [as handle_request] (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\layer.js:95:5)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:149:13)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at Route.dispatch (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:119:3)\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:30:34.013Z"}
{"level":"info","message":"===== TESTING API DOCUMENTATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:34.013Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api","service":"password-breach-notification","timestamp":"2025-07-04T15:30:34.014Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:30:34 +0000] \"GET /api HTTP/1.1\" 200 1708 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:30:34.016Z"}
{"level":"info","message":"[GET ] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:30:34.017Z"}
{"level":"info","message":"[GET ] Response: {\n  \"message\": \"Password Breach Notification System API\",\n  \"version\": \"1.0.0\",\n  \"endpoints\": {\n    \"auth\": {\n      \"POST /api/auth/register\": \"Register a new user\",\n      \"POST /api/auth/login\": \"Login user\",\n      \"GET /api/auth/verify-email\": \"Verify email address\",\n      \"POST /api/auth/forgot-password\": \"Request password reset\",\n      \"POST /api/auth/reset-password\": \"Reset password\",\n      \"GET /api/auth/me\": \"Get current user (protected)\",\n      \"PUT /api/auth/profile\": \"Update user profile (protected)\",\n      \"POST /api/auth/change-password\": \"Change password (protected)\",\n      \"POST /api/auth/logout\": \"Logout user (protected)\"\n    },\n    \"breach\": {\n      \"POST /api/breach/check\": \"Check password breach (protected)\",\n      \"GET /api/breach/history\": \"Get breach history (protected)\",\n      \"GET /api/breach/search\": \"Search breaches (protected)\",\n      \"GET /api/breach/:breachId\": \"Get breach details (protected)\",\n      \"PUT /api/breach/:breachId/acknowledge\": \"Acknowledge breach (protected)\",\n      \"PUT /api/breach/:breachId/action-completed\": \"Mark action completed (protected)\",\n      \"GET /api/breach/admin/stats\": \"Get global breach stats (admin)\",\n      \"GET /api/breach/admin/recent\": \"Get recent breaches (admin)\"\n    },\n    \"notifications\": {\n      \"GET /api/notifications/preferences\": \"Get notification preferences (protected)\",\n      \"PUT /api/notifications/preferences\": \"Update notification preferences (protected)\",\n      \"GET /api/notifications\": \"Get notifications (protected)\",\n      \"GET /api/notifications/stats\": \"Get notification statistics (protected)\",\n      \"GET /api/notifications/history\": \"Get notification history (protected)\",\n      \"PUT /api/notifications/mark-all-read\": \"Mark all notifications as read (protected)\",\n      \"PUT /api/notifications/:notificationId/read\": \"Mark notification as read (protected)\",\n      \"POST /api/notifications/test\": \"Test notification sending (protected)\"\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:30:34.017Z"}
{"level":"info","message":"===== TESTING USER REGISTRATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:34.018Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/register","service":"password-breach-notification","timestamp":"2025-07-04T15:30:34.019Z"}
{"level":"info","message":"Welcome email sent to testuser_1751643033980@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.232Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:30:37 +0000] \"POST /api/auth/register HTTP/1.1\" 201 455 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.235Z"}
{"level":"info","message":"[POST /auth/register] Status: 201 (Created)","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.235Z"}
{"level":"info","message":"[POST /auth/register] Response: {\n  \"status\": \"success\",\n  \"message\": \"User registered successfully. Please check your email for verification.\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"6867f39a79e2c389a62937cb\",\n      \"username\": \"testuser_1751643033980\",\n      \"email\": \"testuser_1751643033980@example.com\",\n      \"isVerified\": false,\n      \"role\": \"user\"\n    },\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODY3ZjM5YTc5ZTJjMzg5YTYyOTM3Y2IiLCJpYXQiOjE3NTE2NDMwMzcsImV4cCI6MTc1MjI0NzgzN30.yTgxbirDSIZIHw9DgCHvCULR6vhihwYukZ_UqoRECuU\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.236Z"}
{"level":"info","message":"Registered user with ID: 6867f39a79e2c389a62937cb","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.236Z"}
{"level":"info","message":"===== TESTING USER LOGIN =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.237Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/login","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.237Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:30:37 +0000] \"POST /api/auth/login HTTP/1.1\" 200 441 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.316Z"}
{"level":"info","message":"[POST /auth/login] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.316Z"}
{"level":"info","message":"[POST /auth/login] Response: {\n  \"status\": \"success\",\n  \"message\": \"Login successful\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"6867f39a79e2c389a62937cb\",\n      \"username\": \"testuser_1751643033980\",\n      \"email\": \"testuser_1751643033980@example.com\",\n      \"isVerified\": false,\n      \"role\": \"user\",\n      \"lastLoginAt\": \"2025-07-04T15:30:37.313Z\"\n    },\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODY3ZjM5YTc5ZTJjMzg5YTYyOTM3Y2IiLCJpYXQiOjE3NTE2NDMwMzcsImV4cCI6MTc1MjI0NzgzN30.yTgxbirDSIZIHw9DgCHvCULR6vhihwYukZ_UqoRECuU\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.316Z"}
{"level":"info","message":"Login successful! Token acquired. User ID: 6867f39a79e2c389a62937cb","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.317Z"}
{"level":"info","message":"===== TESTING GET CURRENT USER =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.317Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/auth/me","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.317Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:30:37 +0000] \"GET /api/auth/me HTTP/1.1\" 200 524 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.323Z"}
{"level":"info","message":"[GET /auth/me] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.323Z"}
{"level":"info","message":"[GET /auth/me] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"user\": {\n      \"notificationPreferences\": {\n        \"email\": true,\n        \"sms\": false,\n        \"push\": true\n      },\n      \"loginAttempts\": 0,\n      \"_id\": \"6867f39a79e2c389a62937cb\",\n      \"username\": \"testuser_1751643033980\",\n      \"email\": \"testuser_1751643033980@example.com\",\n      \"phone\": \"+15551234567\",\n      \"isVerified\": false,\n      \"verificationToken\": \"82ac36d2495fa7cfec004e4b1815bc911ba0ac405ee95081430c50a70ff01549\",\n      \"mfaEnabled\": false,\n      \"role\": \"user\",\n      \"createdAt\": \"2025-07-04T15:30:34.024Z\",\n      \"updatedAt\": \"2025-07-04T15:30:37.313Z\",\n      \"__v\": 0,\n      \"lastLoginAt\": \"2025-07-04T15:30:37.313Z\"\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.324Z"}
{"level":"info","message":"===== TESTING PASSWORD BREACH CHECK (BEFORE VERIFICATION) =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.324Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/breach/check","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.325Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:30:37 +0000] \"POST /api/breach/check HTTP/1.1\" 403 77 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.330Z"}
{"level":"info","message":"[POST /breach/check] Status: 403 (Forbidden)","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.331Z"}
{"level":"info","message":"[POST /breach/check] Response: {\n  \"error\": \"Account not verified\",\n  \"message\": \"Please verify your email address\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.331Z"}
{"level":"info","message":"===== VERIFYING USER IN DATABASE =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.331Z"}
{"level":"info","message":"Connected to MongoDB for verification","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.354Z"}
{"level":"info","message":"User testuser_1751643033980@example.com has been verified successfully","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.384Z"}
{"level":"info","message":"===== TESTING PASSWORD BREACH CHECK (AFTER VERIFICATION) =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.385Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/breach/check","service":"password-breach-notification","timestamp":"2025-07-04T15:30:37.385Z"}
{"level":"info","message":"Breach notification sent to testuser_1751643033980@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T15:30:40.918Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:30:40 +0000] \"POST /api/breach/check HTTP/1.1\" 200 837 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:30:40.922Z"}
{"level":"info","message":"[POST /breach/check] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:30:40.923Z"}
{"level":"info","message":"[POST /breach/check] Response: {\n  \"status\": \"success\",\n  \"message\": \"Password breach detected\",\n  \"data\": {\n    \"breached\": true,\n    \"count\": 864904,\n    \"severity\": \"critical\",\n    \"source\": \"HaveIBeenPwned\",\n    \"riskLevel\": \"critical\",\n    \"recommendedActions\": [\n      {\n        \"action\": \"Change password immediately\",\n        \"priority\": \"high\",\n        \"completed\": false,\n        \"_id\": \"6867f39d79e2c389a62937d7\"\n      },\n      {\n        \"action\": \"Enable Two-Factor Authentication\",\n        \"priority\": \"high\",\n        \"completed\": false,\n        \"_id\": \"6867f39d79e2c389a62937d8\"\n      },\n      {\n        \"action\": \"Review and update security questions\",\n        \"priority\": \"medium\",\n        \"completed\": false,\n        \"_id\": \"6867f39d79e2c389a62937d9\"\n      },\n      {\n        \"action\": \"Check for unauthorized account access\",\n        \"priority\": \"high\",\n        \"completed\": false,\n        \"_id\": \"6867f39d79e2c389a62937da\"\n      },\n      {\n        \"action\": \"Monitor account for suspicious activity\",\n        \"priority\": \"medium\",\n        \"completed\": false,\n        \"_id\": \"6867f39d79e2c389a62937db\"\n      }\n    ],\n    \"suggestMfa\": true,\n    \"breachId\": \"6867f39d79e2c389a62937d5\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:30:40.924Z"}
{"level":"info","message":"===== TESTING BREACH HISTORY =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:40.924Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/breach/history","service":"password-breach-notification","timestamp":"2025-07-04T15:30:40.924Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:30:41 +0000] \"GET /api/breach/history HTTP/1.1\" 200 1568 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:30:41.020Z"}
{"level":"info","message":"[GET /breach/history] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:30:41.021Z"}
{"level":"info","message":"[GET /breach/history] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"breaches\": [\n      {\n        \"_id\": \"6867f39d79e2c389a62937d5\",\n        \"userId\": {\n          \"_id\": \"6867f39a79e2c389a62937cb\",\n          \"username\": \"testuser_1751643033980\",\n          \"email\": \"testuser_1751643033980@example.com\"\n        },\n        \"passwordHash\": \"CBFDAC6008F9CAB4083784CBD1874F76618D2A97\",\n        \"breachSources\": [\n          {\n            \"name\": \"HaveIBeenPwned\",\n            \"dateFound\": \"2025-07-04T15:30:37.543Z\",\n            \"severity\": \"critical\",\n            \"description\": \"Password found 864904 times\",\n            \"affectedAccounts\": 864904,\n            \"_id\": \"6867f39d79e2c389a62937d6\"\n          }\n        ],\n        \"isActive\": true,\n        \"timesFound\": 1,\n        \"notificationsSent\": 1,\n        \"userAcknowledged\": false,\n        \"riskLevel\": \"critical\",\n        \"firstDetected\": \"2025-07-04T15:30:37.545Z\",\n        \"lastChecked\": \"2025-07-04T15:30:37.545Z\",\n        \"recommendedActions\": [\n          {\n            \"action\": \"Change password immediately\",\n            \"priority\": \"high\",\n            \"completed\": false,\n            \"_id\": \"6867f39d79e2c389a62937d7\"\n          },\n          {\n            \"action\": \"Enable Two-Factor Authentication\",\n            \"priority\": \"high\",\n            \"completed\": false,\n            \"_id\": \"6867f39d79e2c389a62937d8\"\n          },\n          {\n            \"action\": \"Review and update security questions\",\n            \"priority\": \"medium\",\n            \"completed\": false,\n            \"_id\": \"6867f39d79e2c389a62937d9\"\n          },\n          {\n            \"action\": \"Check for unauthorized account access\",\n            \"priority\": \"high\",\n            \"completed\": false,\n            \"_id\": \"6867f39d79e2c389a62937da\"\n          },\n          {\n            \"action\": \"Monitor account for suspicious activity\",\n            \"priority\": \"medium\",\n            \"completed\": false,\n            \"_id\": \"6867f39d79e2c389a62937db\"\n          }\n        ],\n        \"createdAt\": \"2025-07-04T15:30:37.546Z\",\n        \"updatedAt\": \"2025-07-04T15:30:40.920Z\",\n        \"__v\": 0\n      }\n    ],\n    \"pagination\": {\n      \"page\": 1,\n      \"limit\": 10,\n      \"total\": 1,\n      \"pages\": 1\n    },\n    \"statistics\": {\n      \"_id\": null,\n      \"totalBreaches\": 1,\n      \"activeBreaches\": 1,\n      \"acknowledgedBreaches\": 0,\n      \"criticalBreaches\": 1,\n      \"highBreaches\": 0,\n      \"mediumBreaches\": 0,\n      \"lowBreaches\": 0\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:30:41.022Z"}
{"level":"info","message":"===== TESTING NOTIFICATION PREFERENCES =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:41.022Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/preferences","service":"password-breach-notification","timestamp":"2025-07-04T15:30:41.022Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:30:41 +0000] \"GET /api/notifications/preferences HTTP/1.1\" 200 82 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:30:41.029Z"}
{"level":"info","message":"[GET /notifications/preferences] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:30:41.031Z"}
{"level":"info","message":"[GET /notifications/preferences] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"preferences\": {\n      \"email\": true,\n      \"sms\": false,\n      \"push\": true\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:30:41.032Z"}
{"level":"info","message":"===== TESTING EMAIL NOTIFICATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:41.032Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/notifications/test","service":"password-breach-notification","timestamp":"2025-07-04T15:30:41.032Z"}
{"level":"info","message":"Breach notification sent to testuser_1751643033980@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.469Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:30:44 +0000] \"POST /api/notifications/test HTTP/1.1\" 200 95 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.471Z"}
{"level":"info","message":"[POST /notifications/test] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.473Z"}
{"level":"info","message":"[POST /notifications/test] Response: {\n  \"status\": \"success\",\n  \"message\": \"Test email notification sent successfully\",\n  \"data\": {\n    \"sent\": true\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.473Z"}
{"level":"info","message":"===== TESTING SMS NOTIFICATION =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.473Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/notifications/test","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.474Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:30:44 +0000] \"POST /api/notifications/test HTTP/1.1\" 200 91 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.481Z"}
{"level":"info","message":"[POST /notifications/test] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.482Z"}
{"level":"info","message":"[POST /notifications/test] Response: {\n  \"status\": \"success\",\n  \"message\": \"Test sms notification failed to send\",\n  \"data\": {\n    \"sent\": false\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.482Z"}
{"level":"info","message":"===== TESTING UPDATE NOTIFICATION PREFERENCES =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.482Z"}
{"level":"info","message":"Testing PUT http://localhost:3000/api/notifications/preferences","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.483Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:30:44 +0000] \"PUT /api/notifications/preferences HTTP/1.1\" 200 140 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.488Z"}
{"level":"info","message":"[PUT /notifications/preferences] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.489Z"}
{"level":"info","message":"[PUT /notifications/preferences] Response: {\n  \"status\": \"success\",\n  \"message\": \"Notification preferences updated successfully\",\n  \"data\": {\n    \"preferences\": {\n      \"email\": true,\n      \"sms\": true,\n      \"push\": false\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.490Z"}
{"level":"info","message":"===== TESTING NOTIFICATION HISTORY =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.490Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/history","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.490Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:30:44 +0000] \"GET /api/notifications/history HTTP/1.1\" 200 423 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.502Z"}
{"level":"info","message":"[GET /notifications/history] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.503Z"}
{"level":"info","message":"[GET /notifications/history] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"history\": [\n      {\n        \"_id\": \"6867f39d79e2c389a62937d5\",\n        \"breachSources\": [\n          {\n            \"name\": \"HaveIBeenPwned\",\n            \"dateFound\": \"2025-07-04T15:30:37.543Z\",\n            \"severity\": \"critical\",\n            \"description\": \"Password found 864904 times\",\n            \"affectedAccounts\": 864904,\n            \"_id\": \"6867f39d79e2c389a62937d6\"\n          }\n        ],\n        \"notificationsSent\": 1,\n        \"riskLevel\": \"critical\",\n        \"createdAt\": \"2025-07-04T15:30:37.546Z\"\n      }\n    ],\n    \"pagination\": {\n      \"page\": 1,\n      \"limit\": 20,\n      \"total\": 1,\n      \"pages\": 1\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.503Z"}
{"level":"info","message":"===== TESTING NOTIFICATION STATISTICS =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.504Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/stats","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.504Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:15:30:44 +0000] \"GET /api/notifications/stats HTTP/1.1\" 200 177 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.511Z"}
{"level":"info","message":"[GET /notifications/stats] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.512Z"}
{"level":"info","message":"[GET /notifications/stats] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"statistics\": {\n      \"_id\": null,\n      \"totalNotifications\": 1,\n      \"unreadNotifications\": 1,\n      \"criticalNotifications\": 1,\n      \"highNotifications\": 0,\n      \"totalNotificationsSent\": 1\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.513Z"}
{"level":"info","message":"===== API TESTING COMPLETE =====","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.513Z"}
{"level":"info","message":"MongoDB connection closed","service":"password-breach-notification","timestamp":"2025-07-04T15:30:44.517Z"}
{"level":"info","message":"===== TESTING HEALTH ENDPOINT =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:29.496Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/health","service":"password-breach-notification","timestamp":"2025-07-04T16:45:29.499Z"}
{"error":"Error: Can't find /api/health on this server!\n    at handleUnknownRoutes (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\middlewares\\errorHandler.js:110:15)\n    at Layer.handle [as handle_request] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at Route.dispatch (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)","ip":"::1","level":"error","message":"Error 404: Can't find /api/health on this server!","method":"GET","service":"password-breach-notification","timestamp":"2025-07-04T16:45:29.524Z","url":"/api/health","userAgent":"axios/1.7.9"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:29 +0000] \"GET /api/health HTTP/1.1\" 404 2186 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:29.525Z"}
{"level":"info","message":"[GET /health] Status: 404 (Not Found)","service":"password-breach-notification","timestamp":"2025-07-04T16:45:29.528Z"}
{"level":"info","message":"[GET /health] Response: {\n  \"status\": \"fail\",\n  \"error\": {\n    \"statusCode\": 404,\n    \"status\": \"fail\",\n    \"isOperational\": true\n  },\n  \"message\": \"Can't find /api/health on this server!\",\n  \"stack\": \"Error: Can't find /api/health on this server!\\n    at handleUnknownRoutes (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\middlewares\\\\errorHandler.js:110:15)\\n    at Layer.handle [as handle_request] (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\layer.js:95:5)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:149:13)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at Route.dispatch (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:119:3)\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:45:29.529Z"}
{"level":"info","message":"===== TESTING API DOCUMENTATION =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:29.530Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api","service":"password-breach-notification","timestamp":"2025-07-04T16:45:29.530Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:29 +0000] \"GET /api HTTP/1.1\" 200 1708 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:29.533Z"}
{"level":"info","message":"[GET ] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:45:29.534Z"}
{"level":"info","message":"[GET ] Response: {\n  \"message\": \"Password Breach Notification System API\",\n  \"version\": \"1.0.0\",\n  \"endpoints\": {\n    \"auth\": {\n      \"POST /api/auth/register\": \"Register a new user\",\n      \"POST /api/auth/login\": \"Login user\",\n      \"GET /api/auth/verify-email\": \"Verify email address\",\n      \"POST /api/auth/forgot-password\": \"Request password reset\",\n      \"POST /api/auth/reset-password\": \"Reset password\",\n      \"GET /api/auth/me\": \"Get current user (protected)\",\n      \"PUT /api/auth/profile\": \"Update user profile (protected)\",\n      \"POST /api/auth/change-password\": \"Change password (protected)\",\n      \"POST /api/auth/logout\": \"Logout user (protected)\"\n    },\n    \"breach\": {\n      \"POST /api/breach/check\": \"Check password breach (protected)\",\n      \"GET /api/breach/history\": \"Get breach history (protected)\",\n      \"GET /api/breach/search\": \"Search breaches (protected)\",\n      \"GET /api/breach/:breachId\": \"Get breach details (protected)\",\n      \"PUT /api/breach/:breachId/acknowledge\": \"Acknowledge breach (protected)\",\n      \"PUT /api/breach/:breachId/action-completed\": \"Mark action completed (protected)\",\n      \"GET /api/breach/admin/stats\": \"Get global breach stats (admin)\",\n      \"GET /api/breach/admin/recent\": \"Get recent breaches (admin)\"\n    },\n    \"notifications\": {\n      \"GET /api/notifications/preferences\": \"Get notification preferences (protected)\",\n      \"PUT /api/notifications/preferences\": \"Update notification preferences (protected)\",\n      \"GET /api/notifications\": \"Get notifications (protected)\",\n      \"GET /api/notifications/stats\": \"Get notification statistics (protected)\",\n      \"GET /api/notifications/history\": \"Get notification history (protected)\",\n      \"PUT /api/notifications/mark-all-read\": \"Mark all notifications as read (protected)\",\n      \"PUT /api/notifications/:notificationId/read\": \"Mark notification as read (protected)\",\n      \"POST /api/notifications/test\": \"Test notification sending (protected)\"\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:45:29.534Z"}
{"level":"info","message":"===== TESTING USER REGISTRATION =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:29.535Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/register","service":"password-breach-notification","timestamp":"2025-07-04T16:45:29.535Z"}
{"level":"info","message":"Welcome email sent to testuser_1751647529496@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.222Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:33 +0000] \"POST /api/auth/register HTTP/1.1\" 201 455 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.224Z"}
{"level":"info","message":"[POST /auth/register] Status: 201 (Created)","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.225Z"}
{"level":"info","message":"[POST /auth/register] Response: {\n  \"status\": \"success\",\n  \"message\": \"User registered successfully. Please check your email for verification.\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"6868052979e2c389a62937fa\",\n      \"username\": \"testuser_1751647529496\",\n      \"email\": \"testuser_1751647529496@example.com\",\n      \"isVerified\": false,\n      \"role\": \"user\"\n    },\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODY4MDUyOTc5ZTJjMzg5YTYyOTM3ZmEiLCJpYXQiOjE3NTE2NDc1MzMsImV4cCI6MTc1MjI1MjMzM30.RFMV1xzbsUFHLcS50QOJTJTpEal7ssrl5sCmtH4D2Io\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.225Z"}
{"level":"info","message":"Registered user with ID: 6868052979e2c389a62937fa","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.225Z"}
{"level":"info","message":"===== TESTING USER LOGIN =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.226Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/login","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.226Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:33 +0000] \"POST /api/auth/login HTTP/1.1\" 200 441 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.301Z"}
{"level":"info","message":"[POST /auth/login] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.302Z"}
{"level":"info","message":"[POST /auth/login] Response: {\n  \"status\": \"success\",\n  \"message\": \"Login successful\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"6868052979e2c389a62937fa\",\n      \"username\": \"testuser_1751647529496\",\n      \"email\": \"testuser_1751647529496@example.com\",\n      \"isVerified\": false,\n      \"role\": \"user\",\n      \"lastLoginAt\": \"2025-07-04T16:45:33.299Z\"\n    },\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODY4MDUyOTc5ZTJjMzg5YTYyOTM3ZmEiLCJpYXQiOjE3NTE2NDc1MzMsImV4cCI6MTc1MjI1MjMzM30.RFMV1xzbsUFHLcS50QOJTJTpEal7ssrl5sCmtH4D2Io\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.302Z"}
{"level":"info","message":"Login successful! Token acquired. User ID: 6868052979e2c389a62937fa","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.303Z"}
{"level":"info","message":"===== TESTING GET CURRENT USER =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.303Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/auth/me","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.303Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:33 +0000] \"GET /api/auth/me HTTP/1.1\" 200 524 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.310Z"}
{"level":"info","message":"[GET /auth/me] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.311Z"}
{"level":"info","message":"[GET /auth/me] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"user\": {\n      \"notificationPreferences\": {\n        \"email\": true,\n        \"sms\": false,\n        \"push\": true\n      },\n      \"loginAttempts\": 0,\n      \"_id\": \"6868052979e2c389a62937fa\",\n      \"username\": \"testuser_1751647529496\",\n      \"email\": \"testuser_1751647529496@example.com\",\n      \"phone\": \"+15551234567\",\n      \"isVerified\": false,\n      \"verificationToken\": \"1ad89db164ca537f690794485cb35aa15d39a7be0724547edf3274282a8cc511\",\n      \"mfaEnabled\": false,\n      \"role\": \"user\",\n      \"createdAt\": \"2025-07-04T16:45:29.542Z\",\n      \"updatedAt\": \"2025-07-04T16:45:33.299Z\",\n      \"__v\": 0,\n      \"lastLoginAt\": \"2025-07-04T16:45:33.299Z\"\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.311Z"}
{"level":"info","message":"===== TESTING PASSWORD BREACH CHECK (BEFORE VERIFICATION) =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.311Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/breach/check","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.312Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:33 +0000] \"POST /api/breach/check HTTP/1.1\" 403 77 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.316Z"}
{"level":"info","message":"[POST /breach/check] Status: 403 (Forbidden)","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.316Z"}
{"level":"info","message":"[POST /breach/check] Response: {\n  \"error\": \"Account not verified\",\n  \"message\": \"Please verify your email address\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.317Z"}
{"level":"info","message":"===== VERIFYING USER IN DATABASE =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.317Z"}
{"level":"info","message":"Connected to MongoDB for verification","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.339Z"}
{"level":"info","message":"User testuser_1751647529496@example.com has been verified successfully","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.367Z"}
{"level":"info","message":"===== TESTING PASSWORD BREACH CHECK (AFTER VERIFICATION) =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.368Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/breach/check","service":"password-breach-notification","timestamp":"2025-07-04T16:45:33.368Z"}
{"level":"info","message":"Breach notification sent to testuser_1751647529496@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.681Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:36 +0000] \"POST /api/breach/check HTTP/1.1\" 200 837 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.685Z"}
{"level":"info","message":"[POST /breach/check] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.685Z"}
{"level":"info","message":"[POST /breach/check] Response: {\n  \"status\": \"success\",\n  \"message\": \"Password breach detected\",\n  \"data\": {\n    \"breached\": true,\n    \"count\": 864904,\n    \"severity\": \"critical\",\n    \"source\": \"HaveIBeenPwned\",\n    \"riskLevel\": \"critical\",\n    \"recommendedActions\": [\n      {\n        \"action\": \"Change password immediately\",\n        \"priority\": \"high\",\n        \"completed\": false,\n        \"_id\": \"6868052d79e2c389a6293806\"\n      },\n      {\n        \"action\": \"Enable Two-Factor Authentication\",\n        \"priority\": \"high\",\n        \"completed\": false,\n        \"_id\": \"6868052d79e2c389a6293807\"\n      },\n      {\n        \"action\": \"Review and update security questions\",\n        \"priority\": \"medium\",\n        \"completed\": false,\n        \"_id\": \"6868052d79e2c389a6293808\"\n      },\n      {\n        \"action\": \"Check for unauthorized account access\",\n        \"priority\": \"high\",\n        \"completed\": false,\n        \"_id\": \"6868052d79e2c389a6293809\"\n      },\n      {\n        \"action\": \"Monitor account for suspicious activity\",\n        \"priority\": \"medium\",\n        \"completed\": false,\n        \"_id\": \"6868052d79e2c389a629380a\"\n      }\n    ],\n    \"suggestMfa\": true,\n    \"breachId\": \"6868052d79e2c389a6293804\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.686Z"}
{"level":"info","message":"===== TESTING BREACH HISTORY =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.686Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/breach/history","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.686Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:36 +0000] \"GET /api/breach/history HTTP/1.1\" 200 1568 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.708Z"}
{"level":"info","message":"[GET /breach/history] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.709Z"}
{"level":"info","message":"[GET /breach/history] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"breaches\": [\n      {\n        \"_id\": \"6868052d79e2c389a6293804\",\n        \"userId\": {\n          \"_id\": \"6868052979e2c389a62937fa\",\n          \"username\": \"testuser_1751647529496\",\n          \"email\": \"testuser_1751647529496@example.com\"\n        },\n        \"passwordHash\": \"CBFDAC6008F9CAB4083784CBD1874F76618D2A97\",\n        \"breachSources\": [\n          {\n            \"name\": \"HaveIBeenPwned\",\n            \"dateFound\": \"2025-07-04T16:45:33.485Z\",\n            \"severity\": \"critical\",\n            \"description\": \"Password found 864904 times\",\n            \"affectedAccounts\": 864904,\n            \"_id\": \"6868052d79e2c389a6293805\"\n          }\n        ],\n        \"isActive\": true,\n        \"timesFound\": 1,\n        \"notificationsSent\": 1,\n        \"userAcknowledged\": false,\n        \"riskLevel\": \"critical\",\n        \"firstDetected\": \"2025-07-04T16:45:33.486Z\",\n        \"lastChecked\": \"2025-07-04T16:45:33.486Z\",\n        \"recommendedActions\": [\n          {\n            \"action\": \"Change password immediately\",\n            \"priority\": \"high\",\n            \"completed\": false,\n            \"_id\": \"6868052d79e2c389a6293806\"\n          },\n          {\n            \"action\": \"Enable Two-Factor Authentication\",\n            \"priority\": \"high\",\n            \"completed\": false,\n            \"_id\": \"6868052d79e2c389a6293807\"\n          },\n          {\n            \"action\": \"Review and update security questions\",\n            \"priority\": \"medium\",\n            \"completed\": false,\n            \"_id\": \"6868052d79e2c389a6293808\"\n          },\n          {\n            \"action\": \"Check for unauthorized account access\",\n            \"priority\": \"high\",\n            \"completed\": false,\n            \"_id\": \"6868052d79e2c389a6293809\"\n          },\n          {\n            \"action\": \"Monitor account for suspicious activity\",\n            \"priority\": \"medium\",\n            \"completed\": false,\n            \"_id\": \"6868052d79e2c389a629380a\"\n          }\n        ],\n        \"createdAt\": \"2025-07-04T16:45:33.486Z\",\n        \"updatedAt\": \"2025-07-04T16:45:36.683Z\",\n        \"__v\": 0\n      }\n    ],\n    \"pagination\": {\n      \"page\": 1,\n      \"limit\": 10,\n      \"total\": 1,\n      \"pages\": 1\n    },\n    \"statistics\": {\n      \"_id\": null,\n      \"totalBreaches\": 1,\n      \"activeBreaches\": 1,\n      \"acknowledgedBreaches\": 0,\n      \"criticalBreaches\": 1,\n      \"highBreaches\": 0,\n      \"mediumBreaches\": 0,\n      \"lowBreaches\": 0\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.709Z"}
{"level":"info","message":"===== TESTING NOTIFICATION PREFERENCES =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.710Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/preferences","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.711Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:36 +0000] \"GET /api/notifications/preferences HTTP/1.1\" 200 82 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.716Z"}
{"level":"info","message":"[GET /notifications/preferences] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.717Z"}
{"level":"info","message":"[GET /notifications/preferences] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"preferences\": {\n      \"email\": true,\n      \"sms\": false,\n      \"push\": true\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.718Z"}
{"level":"info","message":"===== TESTING EMAIL NOTIFICATION =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.718Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/notifications/test","service":"password-breach-notification","timestamp":"2025-07-04T16:45:36.718Z"}
{"level":"info","message":"Breach notification sent to testuser_1751647529496@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.134Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:40 +0000] \"POST /api/notifications/test HTTP/1.1\" 200 95 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.135Z"}
{"level":"info","message":"[POST /notifications/test] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.136Z"}
{"level":"info","message":"[POST /notifications/test] Response: {\n  \"status\": \"success\",\n  \"message\": \"Test email notification sent successfully\",\n  \"data\": {\n    \"sent\": true\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.136Z"}
{"level":"info","message":"===== TESTING SMS NOTIFICATION =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.136Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/notifications/test","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.136Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:40 +0000] \"POST /api/notifications/test HTTP/1.1\" 200 91 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.143Z"}
{"level":"info","message":"[POST /notifications/test] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.143Z"}
{"level":"info","message":"[POST /notifications/test] Response: {\n  \"status\": \"success\",\n  \"message\": \"Test sms notification failed to send\",\n  \"data\": {\n    \"sent\": false\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.144Z"}
{"level":"info","message":"===== TESTING UPDATE NOTIFICATION PREFERENCES =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.144Z"}
{"level":"info","message":"Testing PUT http://localhost:3000/api/notifications/preferences","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.144Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:40 +0000] \"PUT /api/notifications/preferences HTTP/1.1\" 200 140 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.151Z"}
{"level":"info","message":"[PUT /notifications/preferences] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.151Z"}
{"level":"info","message":"[PUT /notifications/preferences] Response: {\n  \"status\": \"success\",\n  \"message\": \"Notification preferences updated successfully\",\n  \"data\": {\n    \"preferences\": {\n      \"email\": true,\n      \"sms\": true,\n      \"push\": false\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.152Z"}
{"level":"info","message":"===== TESTING NOTIFICATION HISTORY =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.152Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/history","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.152Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:40 +0000] \"GET /api/notifications/history HTTP/1.1\" 200 423 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.162Z"}
{"level":"info","message":"[GET /notifications/history] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.162Z"}
{"level":"info","message":"[GET /notifications/history] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"history\": [\n      {\n        \"_id\": \"6868052d79e2c389a6293804\",\n        \"breachSources\": [\n          {\n            \"name\": \"HaveIBeenPwned\",\n            \"dateFound\": \"2025-07-04T16:45:33.485Z\",\n            \"severity\": \"critical\",\n            \"description\": \"Password found 864904 times\",\n            \"affectedAccounts\": 864904,\n            \"_id\": \"6868052d79e2c389a6293805\"\n          }\n        ],\n        \"notificationsSent\": 1,\n        \"riskLevel\": \"critical\",\n        \"createdAt\": \"2025-07-04T16:45:33.486Z\"\n      }\n    ],\n    \"pagination\": {\n      \"page\": 1,\n      \"limit\": 20,\n      \"total\": 1,\n      \"pages\": 1\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.162Z"}
{"level":"info","message":"===== TESTING NOTIFICATION STATISTICS =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.163Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/stats","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.163Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:40 +0000] \"GET /api/notifications/stats HTTP/1.1\" 200 177 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.169Z"}
{"level":"info","message":"[GET /notifications/stats] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.170Z"}
{"level":"info","message":"[GET /notifications/stats] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"statistics\": {\n      \"_id\": null,\n      \"totalNotifications\": 1,\n      \"unreadNotifications\": 1,\n      \"criticalNotifications\": 1,\n      \"highNotifications\": 0,\n      \"totalNotificationsSent\": 1\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.170Z"}
{"level":"info","message":"===== API TESTING COMPLETE =====","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.170Z"}
{"level":"info","message":"MongoDB connection closed","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.176Z"}
{"level":"info","message":"Starting load test with 20 concurrent users","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.672Z"}
{"level":"info","message":"Each user will make 10 authenticated requests","service":"password-breach-notification","timestamp":"2025-07-04T16:45:40.675Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540699_16@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:44.926Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:44 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:44.928Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540676_1@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.003Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.005Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540699_17@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.012Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.014Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540696_9@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.015Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.016Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540700_19@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.017Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.019Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/login HTTP/1.1\" 200 447 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.031Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540698_12@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.296Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.297Z"}
{"code":"EENVELOPE","command":"DATA","level":"error","message":"Error sending welcome email: Data command failed: 421-4.3.0 Temporary System Problem. Try again later (10). For more information,\n421-4.3.0 go to\n421 4.3.0  https://support.google.com/a/answer/3221692 98e67ed59e1d1-31aaaf31b2bsm2383787a91.28 - gsmtp","response":"421-4.3.0 Temporary System Problem. Try again later (10). For more information,\n421-4.3.0 go to\n421 4.3.0  https://support.google.com/a/answer/3221692 98e67ed59e1d1-31aaaf31b2bsm2383787a91.28 - gsmtp","responseCode":421,"service":"password-breach-notification","stack":"Error: Data command failed: 421-4.3.0 Temporary System Problem. Try again later (10). For more information,\n421-4.3.0 go to\n421 4.3.0  https://support.google.com/a/answer/3221692 98e67ed59e1d1-31aaaf31b2bsm2383787a91.28 - gsmtp\n    at SMTPConnection._formatError (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:809:19)\n    at SMTPConnection._actionDATA (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:1702:34)\n    at SMTPConnection.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:1674:26)\n    at SMTPConnection._processResponse (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:993:20)\n    at SMTPConnection._onData (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:774:14)\n    at SMTPConnection._onSocketData (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\nodemailer\\lib\\smtp-connection\\index.js:195:44)\n    at TLSSocket.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)\n    at Readable.push (node:internal/streams/readable:392:5)","timestamp":"2025-07-04T16:45:45.299Z"}
{"level":"error","message":"Failed to send welcome email: Failed to send welcome email","service":"password-breach-notification","stack":"Error: Failed to send welcome email\n    at EmailService.sendWelcomeEmail (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\services\\emailService.js:64:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\controllers\\authController.js:64:5","timestamp":"2025-07-04T16:45:45.299Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.301Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540692_3@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.305Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.306Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540698_13@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.308Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.310Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/login HTTP/1.1\" 200 445 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.314Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/login HTTP/1.1\" 200 447 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.318Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/login HTTP/1.1\" 200 445 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.462Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/login HTTP/1.1\" 200 447 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.465Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/login HTTP/1.1\" 200 447 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.606Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/login HTTP/1.1\" 200 445 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.609Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/login HTTP/1.1\" 200 445 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.612Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/login HTTP/1.1\" 200 447 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.614Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540695_7@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.766Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.769Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:45 +0000] \"POST /api/auth/login HTTP/1.1\" 200 445 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:45.843Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540690_2@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:46.057Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:46 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:46.059Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:46 +0000] \"POST /api/auth/login HTTP/1.1\" 200 445 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:46.131Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540698_11@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:46.385Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:46 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:46.387Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:46 +0000] \"POST /api/auth/login HTTP/1.1\" 200 447 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:46.463Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540694_6@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:46.478Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:46 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:46.480Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:46 +0000] \"POST /api/auth/login HTTP/1.1\" 200 445 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:46.559Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540699_15@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:46.782Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:46 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:46.784Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:46 +0000] \"POST /api/auth/login HTTP/1.1\" 200 447 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:46.855Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540695_8@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:47.109Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:47 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:47.111Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:47 +0000] \"POST /api/auth/login HTTP/1.1\" 200 445 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:47.183Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540700_20@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:47.279Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:47 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:47.281Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:47 +0000] \"POST /api/auth/login HTTP/1.1\" 200 447 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:47.353Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540697_10@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:47.610Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:47 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:47.612Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:47 +0000] \"POST /api/auth/login HTTP/1.1\" 200 447 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:47.683Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540700_18@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:47.913Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:47 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:47.916Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:47 +0000] \"POST /api/auth/login HTTP/1.1\" 200 447 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:47.990Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540694_5@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:48.428Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:48 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:48.430Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:48 +0000] \"POST /api/auth/login HTTP/1.1\" 200 445 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:48.501Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751647540699_14@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:45:48.788Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:48 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:48.790Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:45:48 +0000] \"POST /api/auth/login HTTP/1.1\" 200 447 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:45:48.875Z"}
{"level":"info","message":"\n=== LOAD TEST RESULTS ===","service":"password-breach-notification","timestamp":"2025-07-04T16:45:48.879Z"}
{"level":"info","message":"Connected to MongoDB for E2E tests","service":"password-breach-notification","timestamp":"2025-07-04T16:47:56.890Z"}
{"level":"info","message":"Welcome email sent to e2e_user_1751647676822@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:48:00.328Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:48:00 +0000] \"POST /api/auth/register HTTP/1.1\" 201 455 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:48:00.332Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:48:00 +0000] \"POST /api/auth/login HTTP/1.1\" 200 441 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:48:00.490Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:48:00 +0000] \"GET /api/auth/me HTTP/1.1\" 401 88 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:48:00.502Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:48:00 +0000] \"PUT /api/notifications/preferences HTTP/1.1\" 401 88 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:48:00.605Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:48:00 +0000] \"POST /api/breach/check HTTP/1.1\" 401 88 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:48:00.613Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:48:00 +0000] \"GET /api/breach/history HTTP/1.1\" 401 88 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:48:00.619Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:48:00 +0000] \"POST /api/notifications/test HTTP/1.1\" 401 88 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:48:00.625Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:48:00 +0000] \"POST /api/notifications/test HTTP/1.1\" 401 88 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:48:00.631Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:48:00 +0000] \"GET /api/notifications/history HTTP/1.1\" 401 88 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:48:00.638Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:48:00 +0000] \"GET /api/notifications/stats HTTP/1.1\" 401 88 \"-\" \"axios/1.7.9\"","service":"password-breach-notification","timestamp":"2025-07-04T16:48:00.647Z"}
{"level":"info","message":"MongoDB connection closed","service":"password-breach-notification","timestamp":"2025-07-04T16:48:00.715Z"}
{"level":"error","message":"Authentication error: JsonWebTokenError","service":"password-breach-notification","stack":"Error: JsonWebTokenError\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:45:15)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at Object.mockConstructor [as verify] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at verify (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\middlewares\\authMiddleware.js:18:25)\n    at Object.authenticateToken (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:48:13)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-07-04T16:57:54.782Z"}
{"level":"error","message":"Authentication error: User.findById(...).select is not a function","service":"password-breach-notification","stack":"TypeError: User.findById(...).select is not a function\n    at select (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\middlewares\\authMiddleware.js:21:54)\n    at Object.authenticateToken (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:64:13)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-07-04T16:57:54.792Z"}
{"level":"info","message":"===== TESTING HEALTH ENDPOINT =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:07.139Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/health","service":"password-breach-notification","timestamp":"2025-07-04T16:59:07.142Z"}
{"error":"Error: Can't find /api/health on this server!\n    at handleUnknownRoutes (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\middlewares\\errorHandler.js:110:15)\n    at Layer.handle [as handle_request] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:145:7)\n    at Route.dispatch (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\express\\lib\\router\\route.js:119:3)","ip":"::1","level":"error","message":"Error 404: Can't find /api/health on this server!","method":"GET","service":"password-breach-notification","timestamp":"2025-07-04T16:59:07.161Z","url":"/api/health","userAgent":"axios/1.10.0"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:07 +0000] \"GET /api/health HTTP/1.1\" 404 2186 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:07.161Z"}
{"level":"info","message":"[GET /health] Status: 404 (Not Found)","service":"password-breach-notification","timestamp":"2025-07-04T16:59:07.165Z"}
{"level":"info","message":"[GET /health] Response: {\n  \"status\": \"fail\",\n  \"error\": {\n    \"statusCode\": 404,\n    \"status\": \"fail\",\n    \"isOperational\": true\n  },\n  \"message\": \"Can't find /api/health on this server!\",\n  \"stack\": \"Error: Can't find /api/health on this server!\\n    at handleUnknownRoutes (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\middlewares\\\\errorHandler.js:110:15)\\n    at Layer.handle [as handle_request] (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\layer.js:95:5)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:149:13)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at next (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:145:7)\\n    at Route.dispatch (C:\\\\Users\\\\KIIT\\\\Desktop\\\\backend development\\\\Password-Breach-Notification-System\\\\Password-Breach-Notification-System\\\\backend\\\\node_modules\\\\express\\\\lib\\\\router\\\\route.js:119:3)\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:59:07.165Z"}
{"level":"info","message":"===== TESTING API DOCUMENTATION =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:07.166Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api","service":"password-breach-notification","timestamp":"2025-07-04T16:59:07.166Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:07 +0000] \"GET /api HTTP/1.1\" 200 1708 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:07.169Z"}
{"level":"info","message":"[GET ] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:59:07.171Z"}
{"level":"info","message":"[GET ] Response: {\n  \"message\": \"Password Breach Notification System API\",\n  \"version\": \"1.0.0\",\n  \"endpoints\": {\n    \"auth\": {\n      \"POST /api/auth/register\": \"Register a new user\",\n      \"POST /api/auth/login\": \"Login user\",\n      \"GET /api/auth/verify-email\": \"Verify email address\",\n      \"POST /api/auth/forgot-password\": \"Request password reset\",\n      \"POST /api/auth/reset-password\": \"Reset password\",\n      \"GET /api/auth/me\": \"Get current user (protected)\",\n      \"PUT /api/auth/profile\": \"Update user profile (protected)\",\n      \"POST /api/auth/change-password\": \"Change password (protected)\",\n      \"POST /api/auth/logout\": \"Logout user (protected)\"\n    },\n    \"breach\": {\n      \"POST /api/breach/check\": \"Check password breach (protected)\",\n      \"GET /api/breach/history\": \"Get breach history (protected)\",\n      \"GET /api/breach/search\": \"Search breaches (protected)\",\n      \"GET /api/breach/:breachId\": \"Get breach details (protected)\",\n      \"PUT /api/breach/:breachId/acknowledge\": \"Acknowledge breach (protected)\",\n      \"PUT /api/breach/:breachId/action-completed\": \"Mark action completed (protected)\",\n      \"GET /api/breach/admin/stats\": \"Get global breach stats (admin)\",\n      \"GET /api/breach/admin/recent\": \"Get recent breaches (admin)\"\n    },\n    \"notifications\": {\n      \"GET /api/notifications/preferences\": \"Get notification preferences (protected)\",\n      \"PUT /api/notifications/preferences\": \"Update notification preferences (protected)\",\n      \"GET /api/notifications\": \"Get notifications (protected)\",\n      \"GET /api/notifications/stats\": \"Get notification statistics (protected)\",\n      \"GET /api/notifications/history\": \"Get notification history (protected)\",\n      \"PUT /api/notifications/mark-all-read\": \"Mark all notifications as read (protected)\",\n      \"PUT /api/notifications/:notificationId/read\": \"Mark notification as read (protected)\",\n      \"POST /api/notifications/test\": \"Test notification sending (protected)\"\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:59:07.171Z"}
{"level":"info","message":"===== TESTING USER REGISTRATION =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:07.172Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/register","service":"password-breach-notification","timestamp":"2025-07-04T16:59:07.172Z"}
{"level":"info","message":"Welcome email sent to testuser_1751648347139@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.678Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:10 +0000] \"POST /api/auth/register HTTP/1.1\" 201 455 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.682Z"}
{"level":"info","message":"[POST /auth/register] Status: 201 (Created)","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.684Z"}
{"level":"info","message":"[POST /auth/register] Response: {\n  \"status\": \"success\",\n  \"message\": \"User registered successfully. Please check your email for verification.\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"6868085b79e2c389a62938a7\",\n      \"username\": \"testuser_1751648347138\",\n      \"email\": \"testuser_1751648347139@example.com\",\n      \"isVerified\": false,\n      \"role\": \"user\"\n    },\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODY4MDg1Yjc5ZTJjMzg5YTYyOTM4YTciLCJpYXQiOjE3NTE2NDgzNTAsImV4cCI6MTc1MjI1MzE1MH0.4lHwkbGsr9uE6JCGV-tCE60DmLEqWGW0hCbOiFJN9dA\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.685Z"}
{"level":"info","message":"Registered user with ID: 6868085b79e2c389a62938a7","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.685Z"}
{"level":"info","message":"===== TESTING USER LOGIN =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.686Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/login","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.686Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:10 +0000] \"POST /api/auth/login HTTP/1.1\" 200 441 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.759Z"}
{"level":"info","message":"[POST /auth/login] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.761Z"}
{"level":"info","message":"[POST /auth/login] Response: {\n  \"status\": \"success\",\n  \"message\": \"Login successful\",\n  \"data\": {\n    \"user\": {\n      \"id\": \"6868085b79e2c389a62938a7\",\n      \"username\": \"testuser_1751648347138\",\n      \"email\": \"testuser_1751648347139@example.com\",\n      \"isVerified\": false,\n      \"role\": \"user\",\n      \"lastLoginAt\": \"2025-07-04T16:59:10.757Z\"\n    },\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI2ODY4MDg1Yjc5ZTJjMzg5YTYyOTM4YTciLCJpYXQiOjE3NTE2NDgzNTAsImV4cCI6MTc1MjI1MzE1MH0.4lHwkbGsr9uE6JCGV-tCE60DmLEqWGW0hCbOiFJN9dA\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.761Z"}
{"level":"info","message":"Login successful! Token acquired. User ID: 6868085b79e2c389a62938a7","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.761Z"}
{"level":"info","message":"===== TESTING GET CURRENT USER =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.762Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/auth/me","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.762Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:10 +0000] \"GET /api/auth/me HTTP/1.1\" 200 524 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.767Z"}
{"level":"info","message":"[GET /auth/me] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.769Z"}
{"level":"info","message":"[GET /auth/me] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"user\": {\n      \"notificationPreferences\": {\n        \"email\": true,\n        \"sms\": false,\n        \"push\": true\n      },\n      \"loginAttempts\": 0,\n      \"_id\": \"6868085b79e2c389a62938a7\",\n      \"username\": \"testuser_1751648347138\",\n      \"email\": \"testuser_1751648347139@example.com\",\n      \"phone\": \"+15551234567\",\n      \"isVerified\": false,\n      \"verificationToken\": \"fc1fd31e7fa1496d7bfdaed55d5397502fa213062b9fc4023ae353963eabd573\",\n      \"mfaEnabled\": false,\n      \"role\": \"user\",\n      \"createdAt\": \"2025-07-04T16:59:07.176Z\",\n      \"updatedAt\": \"2025-07-04T16:59:10.758Z\",\n      \"__v\": 0,\n      \"lastLoginAt\": \"2025-07-04T16:59:10.757Z\"\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.769Z"}
{"level":"info","message":"===== TESTING PASSWORD BREACH CHECK (BEFORE VERIFICATION) =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.770Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/breach/check","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.770Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:10 +0000] \"POST /api/breach/check HTTP/1.1\" 403 77 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.773Z"}
{"level":"info","message":"[POST /breach/check] Status: 403 (Forbidden)","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.774Z"}
{"level":"info","message":"[POST /breach/check] Response: {\n  \"error\": \"Account not verified\",\n  \"message\": \"Please verify your email address\"\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.775Z"}
{"level":"info","message":"===== VERIFYING USER IN DATABASE =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.775Z"}
{"level":"info","message":"Connected to MongoDB for verification","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.794Z"}
{"level":"info","message":"User testuser_1751648347139@example.com has been verified successfully","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.822Z"}
{"level":"info","message":"===== TESTING PASSWORD BREACH CHECK (AFTER VERIFICATION) =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.823Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/breach/check","service":"password-breach-notification","timestamp":"2025-07-04T16:59:10.823Z"}
{"level":"info","message":"Breach notification sent to testuser_1751648347139@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.313Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:14 +0000] \"POST /api/breach/check HTTP/1.1\" 200 837 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.318Z"}
{"level":"info","message":"[POST /breach/check] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.320Z"}
{"level":"info","message":"[POST /breach/check] Response: {\n  \"status\": \"success\",\n  \"message\": \"Password breach detected\",\n  \"data\": {\n    \"breached\": true,\n    \"count\": 864904,\n    \"severity\": \"critical\",\n    \"source\": \"HaveIBeenPwned\",\n    \"riskLevel\": \"critical\",\n    \"recommendedActions\": [\n      {\n        \"action\": \"Change password immediately\",\n        \"priority\": \"high\",\n        \"completed\": false,\n        \"_id\": \"6868085e79e2c389a62938b3\"\n      },\n      {\n        \"action\": \"Enable Two-Factor Authentication\",\n        \"priority\": \"high\",\n        \"completed\": false,\n        \"_id\": \"6868085e79e2c389a62938b4\"\n      },\n      {\n        \"action\": \"Review and update security questions\",\n        \"priority\": \"medium\",\n        \"completed\": false,\n        \"_id\": \"6868085e79e2c389a62938b5\"\n      },\n      {\n        \"action\": \"Check for unauthorized account access\",\n        \"priority\": \"high\",\n        \"completed\": false,\n        \"_id\": \"6868085e79e2c389a62938b6\"\n      },\n      {\n        \"action\": \"Monitor account for suspicious activity\",\n        \"priority\": \"medium\",\n        \"completed\": false,\n        \"_id\": \"6868085e79e2c389a62938b7\"\n      }\n    ],\n    \"suggestMfa\": true,\n    \"breachId\": \"6868085e79e2c389a62938b1\"\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.320Z"}
{"level":"info","message":"===== TESTING BREACH HISTORY =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.321Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/breach/history","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.321Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:14 +0000] \"GET /api/breach/history HTTP/1.1\" 200 1568 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.333Z"}
{"level":"info","message":"[GET /breach/history] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.335Z"}
{"level":"info","message":"[GET /breach/history] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"breaches\": [\n      {\n        \"_id\": \"6868085e79e2c389a62938b1\",\n        \"userId\": {\n          \"_id\": \"6868085b79e2c389a62938a7\",\n          \"username\": \"testuser_1751648347138\",\n          \"email\": \"testuser_1751648347139@example.com\"\n        },\n        \"passwordHash\": \"CBFDAC6008F9CAB4083784CBD1874F76618D2A97\",\n        \"breachSources\": [\n          {\n            \"name\": \"HaveIBeenPwned\",\n            \"dateFound\": \"2025-07-04T16:59:10.949Z\",\n            \"severity\": \"critical\",\n            \"description\": \"Password found 864904 times\",\n            \"affectedAccounts\": 864904,\n            \"_id\": \"6868085e79e2c389a62938b2\"\n          }\n        ],\n        \"isActive\": true,\n        \"timesFound\": 1,\n        \"notificationsSent\": 1,\n        \"userAcknowledged\": false,\n        \"riskLevel\": \"critical\",\n        \"firstDetected\": \"2025-07-04T16:59:10.951Z\",\n        \"lastChecked\": \"2025-07-04T16:59:10.951Z\",\n        \"recommendedActions\": [\n          {\n            \"action\": \"Change password immediately\",\n            \"priority\": \"high\",\n            \"completed\": false,\n            \"_id\": \"6868085e79e2c389a62938b3\"\n          },\n          {\n            \"action\": \"Enable Two-Factor Authentication\",\n            \"priority\": \"high\",\n            \"completed\": false,\n            \"_id\": \"6868085e79e2c389a62938b4\"\n          },\n          {\n            \"action\": \"Review and update security questions\",\n            \"priority\": \"medium\",\n            \"completed\": false,\n            \"_id\": \"6868085e79e2c389a62938b5\"\n          },\n          {\n            \"action\": \"Check for unauthorized account access\",\n            \"priority\": \"high\",\n            \"completed\": false,\n            \"_id\": \"6868085e79e2c389a62938b6\"\n          },\n          {\n            \"action\": \"Monitor account for suspicious activity\",\n            \"priority\": \"medium\",\n            \"completed\": false,\n            \"_id\": \"6868085e79e2c389a62938b7\"\n          }\n        ],\n        \"createdAt\": \"2025-07-04T16:59:10.952Z\",\n        \"updatedAt\": \"2025-07-04T16:59:14.315Z\",\n        \"__v\": 0\n      }\n    ],\n    \"pagination\": {\n      \"page\": 1,\n      \"limit\": 10,\n      \"total\": 1,\n      \"pages\": 1\n    },\n    \"statistics\": {\n      \"_id\": null,\n      \"totalBreaches\": 1,\n      \"activeBreaches\": 1,\n      \"acknowledgedBreaches\": 0,\n      \"criticalBreaches\": 1,\n      \"highBreaches\": 0,\n      \"mediumBreaches\": 0,\n      \"lowBreaches\": 0\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.335Z"}
{"level":"info","message":"===== TESTING NOTIFICATION PREFERENCES =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.336Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/preferences","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.336Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:14 +0000] \"GET /api/notifications/preferences HTTP/1.1\" 200 82 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.342Z"}
{"level":"info","message":"[GET /notifications/preferences] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.344Z"}
{"level":"info","message":"[GET /notifications/preferences] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"preferences\": {\n      \"email\": true,\n      \"sms\": false,\n      \"push\": true\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.344Z"}
{"level":"info","message":"===== TESTING EMAIL NOTIFICATION =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.344Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/notifications/test","service":"password-breach-notification","timestamp":"2025-07-04T16:59:14.345Z"}
{"level":"info","message":"Breach notification sent to testuser_1751648347139@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.813Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:17 +0000] \"POST /api/notifications/test HTTP/1.1\" 200 95 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.815Z"}
{"level":"info","message":"[POST /notifications/test] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.816Z"}
{"level":"info","message":"[POST /notifications/test] Response: {\n  \"status\": \"success\",\n  \"message\": \"Test email notification sent successfully\",\n  \"data\": {\n    \"sent\": true\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.816Z"}
{"level":"info","message":"===== TESTING SMS NOTIFICATION =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.816Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/notifications/test","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.817Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:17 +0000] \"POST /api/notifications/test HTTP/1.1\" 200 91 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.822Z"}
{"level":"info","message":"[POST /notifications/test] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.823Z"}
{"level":"info","message":"[POST /notifications/test] Response: {\n  \"status\": \"success\",\n  \"message\": \"Test sms notification failed to send\",\n  \"data\": {\n    \"sent\": false\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.823Z"}
{"level":"info","message":"===== TESTING UPDATE NOTIFICATION PREFERENCES =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.823Z"}
{"level":"info","message":"Testing PUT http://localhost:3000/api/notifications/preferences","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.824Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:17 +0000] \"PUT /api/notifications/preferences HTTP/1.1\" 200 140 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.831Z"}
{"level":"info","message":"[PUT /notifications/preferences] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.831Z"}
{"level":"info","message":"[PUT /notifications/preferences] Response: {\n  \"status\": \"success\",\n  \"message\": \"Notification preferences updated successfully\",\n  \"data\": {\n    \"preferences\": {\n      \"email\": true,\n      \"sms\": true,\n      \"push\": false\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.832Z"}
{"level":"info","message":"===== TESTING NOTIFICATION HISTORY =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.832Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/history","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.832Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:17 +0000] \"GET /api/notifications/history HTTP/1.1\" 200 423 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.842Z"}
{"level":"info","message":"[GET /notifications/history] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.843Z"}
{"level":"info","message":"[GET /notifications/history] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"history\": [\n      {\n        \"_id\": \"6868085e79e2c389a62938b1\",\n        \"breachSources\": [\n          {\n            \"name\": \"HaveIBeenPwned\",\n            \"dateFound\": \"2025-07-04T16:59:10.949Z\",\n            \"severity\": \"critical\",\n            \"description\": \"Password found 864904 times\",\n            \"affectedAccounts\": 864904,\n            \"_id\": \"6868085e79e2c389a62938b2\"\n          }\n        ],\n        \"notificationsSent\": 1,\n        \"riskLevel\": \"critical\",\n        \"createdAt\": \"2025-07-04T16:59:10.952Z\"\n      }\n    ],\n    \"pagination\": {\n      \"page\": 1,\n      \"limit\": 20,\n      \"total\": 1,\n      \"pages\": 1\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.843Z"}
{"level":"info","message":"===== TESTING NOTIFICATION STATISTICS =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.843Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/notifications/stats","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.843Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:17 +0000] \"GET /api/notifications/stats HTTP/1.1\" 200 177 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.850Z"}
{"level":"info","message":"[GET /notifications/stats] Status: 200 (OK)","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.850Z"}
{"level":"info","message":"[GET /notifications/stats] Response: {\n  \"status\": \"success\",\n  \"data\": {\n    \"statistics\": {\n      \"_id\": null,\n      \"totalNotifications\": 1,\n      \"unreadNotifications\": 1,\n      \"criticalNotifications\": 1,\n      \"highNotifications\": 0,\n      \"totalNotificationsSent\": 1\n    }\n  }\n}","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.851Z"}
{"level":"info","message":"===== API TESTING COMPLETE =====","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.851Z"}
{"level":"info","message":"MongoDB connection closed","service":"password-breach-notification","timestamp":"2025-07-04T16:59:17.856Z"}
{"level":"info","message":"Starting load test with 20 concurrent users","service":"password-breach-notification","timestamp":"2025-07-04T16:59:18.352Z"}
{"level":"info","message":"Each user will make 10 authenticated requests","service":"password-breach-notification","timestamp":"2025-07-04T16:59:18.355Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358370_5@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.520Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:22 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.522Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358376_15@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.605Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:22 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.606Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358376_14@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.607Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:22 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.608Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358377_17@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.609Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:22 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.610Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358378_19@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.610Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:22 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.612Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358373_9@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.613Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:22 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.614Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:22 +0000] \"POST /api/auth/login HTTP/1.1\" 200 445 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.623Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358377_16@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.624Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:22 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.625Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:22 +0000] \"POST /api/auth/login HTTP/1.1\" 200 447 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.707Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358355_1@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.780Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:22 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:22.782Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358369_3@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:23.119Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:23 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:23.122Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358371_6@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:23.628Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:23 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:23.631Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358369_4@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:23.716Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:23 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:23.719Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358372_8@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:23.930Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:23 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:23.933Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358374_10@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:24.073Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:24 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:24.076Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358377_18@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:24.274Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:24 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:24.277Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358372_7@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:24.857Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:24 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:24.860Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358375_11@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:25.016Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:25 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:25.019Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358376_13@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:25.303Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:25 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:25.306Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358376_12@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:25.522Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:25 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:25.523Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358378_20@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:25.764Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:25 +0000] \"POST /api/auth/register HTTP/1.1\" 201 461 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:25.766Z"}
{"level":"info","message":"Welcome email sent to loadtest_1751648358367_2@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T16:59:26.393Z"}
{"level":"info","message":"::1 - - [04/Jul/2025:16:59:26 +0000] \"POST /api/auth/register HTTP/1.1\" 201 459 \"-\" \"axios/1.10.0\"","service":"password-breach-notification","timestamp":"2025-07-04T16:59:26.394Z"}
{"level":"info","message":"\n=== LOAD TEST RESULTS ===","service":"password-breach-notification","timestamp":"2025-07-04T16:59:26.397Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-07-04T17:01:02.942Z"}
{"level":"warn","message":"Skipping API tests. Set RUN_API_TESTS=true to run them.","service":"password-breach-notification","timestamp":"2025-07-04T17:05:18.714Z"}
{"level":"info","message":"MongoDB connection closed","service":"password-breach-notification","timestamp":"2025-07-04T17:05:18.810Z"}
{"level":"info","message":"MongoDB Connected: localhost","service":"password-breach-notification","timestamp":"2025-07-04T17:05:20.491Z"}
{"level":"info","message":"MongoDB Connected: localhost","service":"password-breach-notification","timestamp":"2025-07-04T17:05:20.599Z"}
{"level":"info","message":"MongoDB Connected: localhost","service":"password-breach-notification","timestamp":"2025-07-04T17:05:20.658Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:05:20.785Z"}
{"level":"info","message":"MongoDB Connected: localhost","service":"password-breach-notification","timestamp":"2025-07-04T17:05:21.231Z"}
{"level":"info","message":"MongoDB Connected: localhost","service":"password-breach-notification","timestamp":"2025-07-04T17:05:21.863Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-07-04T17:05:38.739Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:12:34.903Z"}
{"level":"error","message":"Error sending breach notification: Cannot read properties of undefined (reading 'toUpperCase')","service":"password-breach-notification","stack":"TypeError: Cannot read properties of undefined (reading 'toUpperCase')\n    at EmailService.toUpperCase [as generateBreachNotificationHTML] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\services\\emailService.js:127:71)\n    at EmailService.generateBreachNotificationHTML [as sendBreachNotification] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\services\\emailService.js:29:20)\n    at Object.sendBreachNotification (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:35:41)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-07-04T17:15:03.503Z"}
{"level":"error","message":"Error sending breach notification: Cannot read properties of undefined (reading 'toUpperCase')","service":"password-breach-notification","stack":"TypeError: Cannot read properties of undefined (reading 'toUpperCase')\n    at EmailService.toUpperCase [as generateBreachNotificationHTML] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\services\\emailService.js:127:71)\n    at EmailService.generateBreachNotificationHTML [as sendBreachNotification] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\services\\emailService.js:29:20)\n    at Object.sendBreachNotification (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:63:22)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)","timestamp":"2025-07-04T17:15:03.516Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:15:03.521Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:15:03.526Z"}
{"level":"error","message":"Error sending breach notification: Cannot read properties of undefined (reading 'toUpperCase')","service":"password-breach-notification","stack":"TypeError: Cannot read properties of undefined (reading 'toUpperCase')\n    at EmailService.toUpperCase [as generateBreachNotificationHTML] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\services\\emailService.js:127:71)\n    at EmailService.generateBreachNotificationHTML [as sendBreachNotification] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\services\\emailService.js:29:20)\n    at Object.sendBreachNotification (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:35:41)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:16:58.187Z"}
{"level":"error","message":"Error sending breach notification: Cannot read properties of undefined (reading 'toUpperCase')","service":"password-breach-notification","stack":"TypeError: Cannot read properties of undefined (reading 'toUpperCase')\n    at EmailService.toUpperCase [as generateBreachNotificationHTML] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\services\\emailService.js:127:71)\n    at EmailService.generateBreachNotificationHTML [as sendBreachNotification] (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\services\\emailService.js:29:20)\n    at Object.sendBreachNotification (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:63:22)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:16:58.210Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:16:58.215Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:16:58.223Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:16:58.432Z"}
{"level":"info","message":"===== TESTING HEALTH ENDPOINT =====","service":"password-breach-notification","timestamp":"2025-07-04T17:23:20.908Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/health","service":"password-breach-notification","timestamp":"2025-07-04T17:23:20.910Z"}
{"level":"error","message":"Error testing GET /health:","service":"password-breach-notification","timestamp":"2025-07-04T17:23:20.933Z"}
{"level":"info","message":"===== TESTING API DOCUMENTATION =====","service":"password-breach-notification","timestamp":"2025-07-04T17:23:20.933Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api","service":"password-breach-notification","timestamp":"2025-07-04T17:23:20.934Z"}
{"level":"error","message":"Error testing GET :","service":"password-breach-notification","timestamp":"2025-07-04T17:23:20.937Z"}
{"level":"info","message":"===== TESTING USER REGISTRATION =====","service":"password-breach-notification","timestamp":"2025-07-04T17:23:20.937Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/register","service":"password-breach-notification","timestamp":"2025-07-04T17:23:20.938Z"}
{"level":"error","message":"Error testing POST /auth/register:","service":"password-breach-notification","timestamp":"2025-07-04T17:23:20.940Z"}
{"level":"info","message":"===== TESTING USER LOGIN =====","service":"password-breach-notification","timestamp":"2025-07-04T17:23:20.940Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/login","service":"password-breach-notification","timestamp":"2025-07-04T17:23:20.941Z"}
{"level":"error","message":"Error testing POST /auth/login:","service":"password-breach-notification","timestamp":"2025-07-04T17:23:20.942Z"}
{"level":"error","message":"Login failed. Cannot test authenticated endpoints.","service":"password-breach-notification","timestamp":"2025-07-04T17:23:20.943Z"}
{"level":"info","message":"===== API TESTING COMPLETE =====","service":"password-breach-notification","timestamp":"2025-07-04T17:23:20.943Z"}
{"level":"info","message":"Starting load test with 20 concurrent users","service":"password-breach-notification","timestamp":"2025-07-04T17:23:21.403Z"}
{"level":"info","message":"Each user will make 10 authenticated requests","service":"password-breach-notification","timestamp":"2025-07-04T17:23:21.405Z"}
{"level":"info","message":"Breach notification sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:24:09.600Z"}
{"level":"error","message":"Error sending breach notification: Failed to send email","service":"password-breach-notification","stack":"Error: Failed to send email\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:52:9)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:24:09.634Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:24:09.647Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:24:09.652Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:24:09.766Z"}
{"level":"info","message":"Breach notification sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:25:21.886Z"}
{"level":"error","message":"Error sending breach notification: Failed to send email","service":"password-breach-notification","stack":"Error: Failed to send email\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:52:9)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:25:21.919Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:25:21.933Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:25:21.937Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:25:22.166Z"}
{"level":"info","message":"Breach notification sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:26:07.437Z"}
{"level":"error","message":"Error sending breach notification: Failed to send email","service":"password-breach-notification","stack":"Error: Failed to send email\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:52:9)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:26:07.472Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:26:07.485Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:26:07.490Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:26:07.612Z"}
{"level":"info","message":"===== TESTING HEALTH ENDPOINT =====","service":"password-breach-notification","timestamp":"2025-07-04T17:26:40.982Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api/health","service":"password-breach-notification","timestamp":"2025-07-04T17:26:40.985Z"}
{"level":"error","message":"Error testing GET /health:","service":"password-breach-notification","timestamp":"2025-07-04T17:26:41.009Z"}
{"level":"info","message":"===== TESTING API DOCUMENTATION =====","service":"password-breach-notification","timestamp":"2025-07-04T17:26:41.009Z"}
{"level":"info","message":"Testing GET http://localhost:3000/api","service":"password-breach-notification","timestamp":"2025-07-04T17:26:41.010Z"}
{"level":"error","message":"Error testing GET :","service":"password-breach-notification","timestamp":"2025-07-04T17:26:41.013Z"}
{"level":"info","message":"===== TESTING USER REGISTRATION =====","service":"password-breach-notification","timestamp":"2025-07-04T17:26:41.014Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/register","service":"password-breach-notification","timestamp":"2025-07-04T17:26:41.014Z"}
{"level":"error","message":"Error testing POST /auth/register:","service":"password-breach-notification","timestamp":"2025-07-04T17:26:41.016Z"}
{"level":"info","message":"===== TESTING USER LOGIN =====","service":"password-breach-notification","timestamp":"2025-07-04T17:26:41.017Z"}
{"level":"info","message":"Testing POST http://localhost:3000/api/auth/login","service":"password-breach-notification","timestamp":"2025-07-04T17:26:41.017Z"}
{"level":"error","message":"Error testing POST /auth/login:","service":"password-breach-notification","timestamp":"2025-07-04T17:26:41.019Z"}
{"level":"error","message":"Login failed. Cannot test authenticated endpoints.","service":"password-breach-notification","timestamp":"2025-07-04T17:26:41.019Z"}
{"level":"info","message":"===== API TESTING COMPLETE =====","service":"password-breach-notification","timestamp":"2025-07-04T17:26:41.020Z"}
{"level":"info","message":"Starting load test with 20 concurrent users","service":"password-breach-notification","timestamp":"2025-07-04T17:26:41.518Z"}
{"level":"info","message":"Each user will make 10 authenticated requests","service":"password-breach-notification","timestamp":"2025-07-04T17:26:41.520Z"}
{"level":"info","message":"Breach notification sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:27:41.476Z"}
{"level":"error","message":"Error sending breach notification: Failed to send email","service":"password-breach-notification","stack":"Error: Failed to send email\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:52:9)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:27:41.518Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:27:41.531Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:27:41.536Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:27:41.765Z"}
{"level":"info","message":"Breach notification sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:30:42.503Z"}
{"level":"error","message":"Error sending breach notification: Failed to send email","service":"password-breach-notification","stack":"Error: Failed to send email\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:52:9)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:30:42.545Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:30:42.557Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:30:42.560Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:30:42.603Z"}
{"level":"info","message":"Breach notification sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:32:45.049Z"}
{"level":"error","message":"Error sending breach notification: Failed to send email","service":"password-breach-notification","stack":"Error: Failed to send email\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:52:9)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:32:45.078Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:32:45.089Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:32:45.094Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:32:45.216Z"}
{"level":"info","message":"Breach notification sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:34:40.461Z"}
{"level":"error","message":"Error sending breach notification: Failed to send email","service":"password-breach-notification","stack":"Error: Failed to send email\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:52:9)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:34:40.505Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:34:40.518Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:34:40.524Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:34:40.713Z"}
{"level":"info","message":"Breach notification sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:36:34.661Z"}
{"level":"error","message":"Error sending breach notification: Failed to send email","service":"password-breach-notification","stack":"Error: Failed to send email\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:52:9)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:36:34.693Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:36:34.708Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:36:34.712Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:36:34.861Z"}
{"level":"info","message":"Breach notification sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:37:14.196Z"}
{"level":"error","message":"Error sending breach notification: Failed to send email","service":"password-breach-notification","stack":"Error: Failed to send email\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:52:9)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:37:14.228Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:37:14.241Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:37:14.245Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:37:14.383Z"}
{"level":"info","message":"Breach notification sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:38:01.160Z"}
{"level":"error","message":"Error sending breach notification: Failed to send email","service":"password-breach-notification","stack":"Error: Failed to send email\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:52:9)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:38:01.202Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:38:01.217Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:38:01.221Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:38:01.382Z"}
{"level":"info","message":"Breach notification sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:40:22.341Z"}
{"level":"error","message":"Error sending breach notification: Failed to send email","service":"password-breach-notification","stack":"Error: Failed to send email\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:52:9)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:40:22.374Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:40:22.387Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:40:22.392Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:40:22.539Z"}
{"level":"info","message":"Breach notification sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:41:00.751Z"}
{"level":"error","message":"Error sending breach notification: Failed to send email","service":"password-breach-notification","stack":"Error: Failed to send email\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:52:9)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:41:00.780Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:41:00.794Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:41:00.798Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:41:01.049Z"}
{"level":"info","message":"Breach notification sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:42:36.595Z"}
{"level":"error","message":"Error sending breach notification: Failed to send email","service":"password-breach-notification","stack":"Error: Failed to send email\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:52:9)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:42:36.637Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:42:36.648Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:42:36.654Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:42:36.771Z"}
{"level":"info","message":"Breach notification sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:43:26.641Z"}
{"level":"error","message":"Error sending breach notification: Failed to send email","service":"password-breach-notification","stack":"Error: Failed to send email\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\emailService.test.js:52:9)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:43:26.681Z"}
{"level":"info","message":"Welcome email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:43:26.695Z"}
{"level":"info","message":"Password reset email sent to test@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T17:43:26.700Z"}
{"level":"error","message":"Authentication error: Invalid token","name":"JsonWebTokenError","service":"password-breach-notification","stack":"JsonWebTokenError: Invalid token\n    at Object.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\tests\\unit\\authMiddleware.test.js:42:21)\n    at Promise.then.completed (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","timestamp":"2025-07-04T17:43:26.876Z"}
{"level":"error","message":"Error checking password breach: API Error","service":"password-breach-notification","stack":"Error: API Error\n    at Context.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\test\\unit\\breachService.test.js:81:52)\n    at callFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:366:21)\n    at Runnable.run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:354:5)\n    at Runner.runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:715:10)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:838:12\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:630:14)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:640:7\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:523:14)\n    at Immediate.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:608:5)\n    at process.processImmediate (node:internal/timers:485:21)","timestamp":"2025-07-04T18:55:27.873Z"}
{"level":"error","message":"Error checking password breach: API Error","service":"password-breach-notification","stack":"Error: API Error\n    at Context.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\test\\unit\\breachService.test.js:81:52)\n    at callFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:366:21)\n    at Runnable.run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:354:5)\n    at Runner.runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:715:10)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:838:12\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:630:14)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:640:7\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:523:14)\n    at Immediate.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:608:5)\n    at process.processImmediate (node:internal/timers:485:21)","timestamp":"2025-07-04T18:57:12.442Z"}
{"level":"error","message":"Error checking password breach: API Error","service":"password-breach-notification","stack":"Error: API Error\n    at Context.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\test\\unit\\breachService.test.js:81:52)\n    at callFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:366:21)\n    at Runnable.run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:354:5)\n    at Runner.runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:715:10)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:838:12\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:630:14)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:640:7\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:523:14)\n    at Immediate.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:608:5)\n    at process.processImmediate (node:internal/timers:485:21)","timestamp":"2025-07-04T18:58:35.386Z"}
{"level":"error","message":"Error sending breach notification: Cannot read properties of undefined (reading 'toLocaleString')","service":"password-breach-notification","stack":"TypeError: Cannot read properties of undefined (reading 'toLocaleString')\n    at EmailService.generateBreachNotificationHTML (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\services\\emailService.js:128:71)\n    at EmailService.sendBreachNotification (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\services\\emailService.js:29:20)\n    at Context.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\test\\unit\\emailService.test.js:48:41)\n    at callFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:366:21)\n    at Runnable.run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:354:5)\n    at Runner.runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:715:10)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:838:12\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:630:14)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:640:7\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:523:14)\n    at Immediate._onImmediate (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:608:5)\n    at process.processImmediate (node:internal/timers:485:21)","timestamp":"2025-07-04T18:58:35.396Z"}
{"level":"error","message":"Error sending breach notification: Cannot read properties of undefined (reading 'toUpperCase')","service":"password-breach-notification","stack":"TypeError: Cannot read properties of undefined (reading 'toUpperCase')\n    at EmailService.generateBreachNotificationHTML (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\services\\emailService.js:127:71)\n    at EmailService.sendBreachNotification (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\services\\emailService.js:29:20)\n    at Context.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\test\\unit\\emailService.test.js:79:28)\n    at callFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:366:21)\n    at Runnable.run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:354:5)\n    at Runner.runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:715:10)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:838:12\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:630:14)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:640:7\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:523:14)\n    at Immediate._onImmediate (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:608:5)\n    at process.processImmediate (node:internal/timers:485:21)","timestamp":"2025-07-04T18:58:35.400Z"}
{"level":"info","message":"Welcome email sent to user@example.com:","service":"password-breach-notification","timestamp":"2025-07-04T18:58:35.406Z"}
{"level":"error","message":"Error checking password breach: API Error","service":"password-breach-notification","stack":"Error: API Error\n    at Context.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\test\\unit\\breachService.test.js:81:52)\n    at callFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:366:21)\n    at Runnable.run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:354:5)\n    at Runner.runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:715:10)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:838:12\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:630:14)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:640:7\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:523:14)\n    at Immediate.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:608:5)\n    at process.processImmediate (node:internal/timers:485:21)","timestamp":"2025-07-04T19:03:02.698Z"}
{"level":"warn","message":"Twilio credentials not configured, using mock service","service":"password-breach-notification","timestamp":"2025-07-04T19:03:02.730Z"}
{"level":"info","message":"üì± MOCK SMS SENT =====================","service":"password-breach-notification","timestamp":"2025-07-04T19:03:02.730Z"}
{"level":"info","message":"üì± To: +1234567890","service":"password-breach-notification","timestamp":"2025-07-04T19:03:02.731Z"}
{"level":"info","message":"üì± From: +15555555555","service":"password-breach-notification","timestamp":"2025-07-04T19:03:02.732Z"}
{"level":"info","message":"üì± Message: Test SMS message","service":"password-breach-notification","timestamp":"2025-07-04T19:03:02.732Z"}
{"level":"info","message":"üì± SID: SMgeb9rrp8ypfjqj7q1pik9b","service":"password-breach-notification","timestamp":"2025-07-04T19:03:02.732Z"}
{"level":"info","message":"üì± ================================== ","service":"password-breach-notification","timestamp":"2025-07-04T19:03:02.733Z"}
{"level":"warn","message":"Twilio credentials not configured, using mock service","service":"password-breach-notification","timestamp":"2025-07-04T19:03:02.736Z"}
{"level":"info","message":"üì± MOCK SMS SENT =====================","service":"password-breach-notification","timestamp":"2025-07-04T19:03:02.737Z"}
{"level":"info","message":"üì± To: +1234567890","service":"password-breach-notification","timestamp":"2025-07-04T19:03:02.737Z"}
{"level":"info","message":"üì± From: +15555555555","service":"password-breach-notification","timestamp":"2025-07-04T19:03:02.737Z"}
{"level":"info","message":"üì± Message: Test SMS message","service":"password-breach-notification","timestamp":"2025-07-04T19:03:02.737Z"}
{"level":"info","message":"üì± SID: SMh9sge1vkago5g47mrnp7e","service":"password-breach-notification","timestamp":"2025-07-04T19:03:02.737Z"}
{"level":"info","message":"üì± ================================== ","service":"password-breach-notification","timestamp":"2025-07-04T19:03:02.738Z"}
{"level":"error","message":"Error checking password breach: API Error","service":"password-breach-notification","stack":"Error: API Error\n    at Context.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\test\\unit\\breachService.test.js:81:52)\n    at callFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:366:21)\n    at Runnable.run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:354:5)\n    at Runner.runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:715:10)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:838:12\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:630:14)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:640:7\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:523:14)\n    at Immediate.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:608:5)\n    at process.processImmediate (node:internal/timers:485:21)","timestamp":"2025-07-04T19:04:42.340Z"}
{"level":"info","message":"üì± MOCK SMS SENT =====================","service":"password-breach-notification","timestamp":"2025-07-04T19:04:42.383Z"}
{"level":"info","message":"üì± To: +1234567890","service":"password-breach-notification","timestamp":"2025-07-04T19:04:42.384Z"}
{"level":"info","message":"üì± From: +15555555555","service":"password-breach-notification","timestamp":"2025-07-04T19:04:42.384Z"}
{"level":"info","message":"üì± Message: Test SMS message","service":"password-breach-notification","timestamp":"2025-07-04T19:04:42.384Z"}
{"level":"info","message":"üì± SID: SM80bmc9dc7ds2g5pq1n0u2q","service":"password-breach-notification","timestamp":"2025-07-04T19:04:42.385Z"}
{"level":"info","message":"üì± ================================== ","service":"password-breach-notification","timestamp":"2025-07-04T19:04:42.385Z"}
{"level":"info","message":"SMS sent successfully to +1234567890 with SID: test-sms-id","service":"password-breach-notification","timestamp":"2025-07-04T19:04:42.388Z"}
{"level":"info","message":"üì± MOCK SMS SENT =====================","service":"password-breach-notification","timestamp":"2025-07-04T19:04:42.395Z"}
{"level":"info","message":"üì± To: +1234567890","service":"password-breach-notification","timestamp":"2025-07-04T19:04:42.396Z"}
{"level":"info","message":"üì± From: +15555555555","service":"password-breach-notification","timestamp":"2025-07-04T19:04:42.396Z"}
{"level":"info","message":"üì± Message: üö® SECURITY ALERT: Your password has been found in a data breach! Found 12345 times. Change your password immediately. Visit our app for more details.","service":"password-breach-notification","timestamp":"2025-07-04T19:04:42.396Z"}
{"level":"info","message":"üì± SID: SMhodkvju2l7bsm7pf9n8y4b","service":"password-breach-notification","timestamp":"2025-07-04T19:04:42.397Z"}
{"level":"info","message":"üì± ================================== ","service":"password-breach-notification","timestamp":"2025-07-04T19:04:42.397Z"}
{"level":"info","message":"üì± MOCK SMS SENT =====================","service":"password-breach-notification","timestamp":"2025-07-04T19:05:12.431Z"}
{"level":"info","message":"üì± To: +1234567890","service":"password-breach-notification","timestamp":"2025-07-04T19:05:12.433Z"}
{"level":"info","message":"üì± From: +15555555555","service":"password-breach-notification","timestamp":"2025-07-04T19:05:12.434Z"}
{"level":"info","message":"üì± Message: Test SMS message","service":"password-breach-notification","timestamp":"2025-07-04T19:05:12.434Z"}
{"level":"info","message":"üì± SID: SMpwn7z1639zurj7yyhzbeg","service":"password-breach-notification","timestamp":"2025-07-04T19:05:12.435Z"}
{"level":"info","message":"üì± ================================== ","service":"password-breach-notification","timestamp":"2025-07-04T19:05:12.435Z"}
{"level":"info","message":"SMS sent successfully to +1234567890 with SID: test-sms-id","service":"password-breach-notification","timestamp":"2025-07-04T19:05:12.450Z"}
{"level":"info","message":"üì± MOCK SMS SENT =====================","service":"password-breach-notification","timestamp":"2025-07-04T19:05:12.458Z"}
{"level":"info","message":"üì± To: +1234567890","service":"password-breach-notification","timestamp":"2025-07-04T19:05:12.458Z"}
{"level":"info","message":"üì± From: +15555555555","service":"password-breach-notification","timestamp":"2025-07-04T19:05:12.459Z"}
{"level":"info","message":"üì± Message: üö® SECURITY ALERT: Your password has been found in a data breach! Found 12345 times. Change your password immediately. Visit our app for more details.","service":"password-breach-notification","timestamp":"2025-07-04T19:05:12.459Z"}
{"level":"info","message":"üì± SID: SMu6lbfythgohhl8ks17p6o","service":"password-breach-notification","timestamp":"2025-07-04T19:05:12.459Z"}
{"level":"info","message":"üì± ================================== ","service":"password-breach-notification","timestamp":"2025-07-04T19:05:12.459Z"}
{"level":"error","message":"Error checking password breach: API Error","service":"password-breach-notification","stack":"Error: API Error\n    at Context.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\test\\unit\\breachService.test.js:81:52)\n    at callFn (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:366:21)\n    at Runnable.run (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runnable.js:354:5)\n    at Runner.runTest (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:715:10)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:838:12\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:630:14)\n    at C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:640:7\n    at next (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:523:14)\n    at Immediate.<anonymous> (C:\\Users\\KIIT\\Desktop\\backend development\\Password-Breach-Notification-System\\Password-Breach-Notification-System\\backend\\node_modules\\mocha\\lib\\runner.js:608:5)\n    at process.processImmediate (node:internal/timers:485:21)","timestamp":"2025-07-04T19:05:22.171Z"}
{"level":"info","message":"üì± MOCK SMS SENT =====================","service":"password-breach-notification","timestamp":"2025-07-04T19:05:22.203Z"}
{"level":"info","message":"üì± To: +1234567890","service":"password-breach-notification","timestamp":"2025-07-04T19:05:22.204Z"}
{"level":"info","message":"üì± From: +15555555555","service":"password-breach-notification","timestamp":"2025-07-04T19:05:22.205Z"}
{"level":"info","message":"üì± Message: Test SMS message","service":"password-breach-notification","timestamp":"2025-07-04T19:05:22.205Z"}
{"level":"info","message":"üì± SID: SMm4oxjaak1xi95ttuw900al","service":"password-breach-notification","timestamp":"2025-07-04T19:05:22.206Z"}
{"level":"info","message":"üì± ================================== ","service":"password-breach-notification","timestamp":"2025-07-04T19:05:22.206Z"}
{"level":"info","message":"SMS sent successfully to +1234567890 with SID: test-sms-id","service":"password-breach-notification","timestamp":"2025-07-04T19:05:22.209Z"}
{"level":"info","message":"üì± MOCK SMS SENT =====================","service":"password-breach-notification","timestamp":"2025-07-04T19:05:22.217Z"}
{"level":"info","message":"üì± To: +1234567890","service":"password-breach-notification","timestamp":"2025-07-04T19:05:22.217Z"}
{"level":"info","message":"üì± From: +15555555555","service":"password-breach-notification","timestamp":"2025-07-04T19:05:22.218Z"}
{"level":"info","message":"üì± Message: üö® SECURITY ALERT: Your password has been found in a data breach! Found 12345 times. Change your password immediately. Visit our app for more details.","service":"password-breach-notification","timestamp":"2025-07-04T19:05:22.218Z"}
{"level":"info","message":"üì± SID: SMlpb547ryx3ogfr94gdnkq","service":"password-breach-notification","timestamp":"2025-07-04T19:05:22.218Z"}
{"level":"info","message":"üì± ================================== ","service":"password-breach-notification","timestamp":"2025-07-04T19:05:22.219Z"}
